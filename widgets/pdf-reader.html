
<polymer-element name="pdf-reader" attributes=""> <template> <style>*{-moz-box-sizing:border-box;box-sizing:border-box}.pdf-hidden{display:none}.pdf-disabled{opacity:.4}.pdf-viewer{background:#242424;position:relative}.pdf-viewer::before{width:65px;height:20px;content:"Loading...";position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;padding:30px 45px;background:rgba(0,0,0,.4);color:#fff;border-radius:60px}.pdf-viewer .pdf-viewport,.pdf-viewer .pdf-toolbar{display:none}.pdf-viewer.pdf-loaded::before{display:none}.pdf-viewer.pdf-loaded .pdf-viewport-out{overflow:auto}.pdf-viewer.pdf-loaded .pdf-viewport{display:block;position:relative;box-shadow:0 0 10px 4px #141414;-webkit-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out}.pdf-viewer.pdf-loaded .pdf-toolbar{display:block;width:100%;height:40px;background:#363636;box-shadow:0 1px 1px #202020}.pdf-ul{position:relative;font-size:12px;color:#e4e4e4;text-shadow:0 1px 1px #242424}.pdf-toolbar .pdf-ul{margin:0;list-style:none;width:100%;height:100%;padding:0 10px}.pdf-toolbar .pdf-download .pdf-btn{width:23px;height:30px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSIyMyIKICAgaGVpZ2h0PSIzMCIKICAgaWQ9InN2ZzIiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0IiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMi4zNjIyKSIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBkPSJtIDAsMTAyMi4zNjIyIDAsMzAgMjMsMCAwLC0yMyAtNiwwIC0xLDAgMCwtMSAwLC02IC0xNiwwIHogbSAxNywwIDAsNiA2LDAgMCwtMC4wMzEgLTUuOTY4NzUsLTUuOTY4OCAtMC4wMzEyNSwwIHogbSAtOSwxMCA3LDAgMCwxMSAyLDAgLTIuNzUsMyAtMi43NSwzIC0yLjc1LC0zIC0yLjc1LC0zIDIsMCAwLC0xMSB6IgogICAgICAgaWQ9InJlY3QyOTg5IgogICAgICAgc3R5bGU9ImZpbGw6Izg4ODtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgLz4KICA8L2c+Cjwvc3ZnPgo=);background-color:transparent;border:0;outline:0;float:right;margin:5px 0;cursor:pointer}.pdf-toolbar .pdf-page-nav{width:200px;height:30px;float:left}.pdf-toolbar .pdf-page-nav>*{float:left}.pdf-toolbar .pdf-page-nav .pdf-prev,.pdf-toolbar .pdf-page-nav .pdf-next{width:21px;height:14px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSI0MiIKICAgaGVpZ2h0PSIxNCIKICAgaWQ9InN2ZzM4MTkiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzODIxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTM4MjQiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAzOC4zNjIyKSIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBkPSJtIDExLDEwMzguMzYyMiAtNS41LDMuNSAtNS41LDMuNSA1LjUsMy41IDUuNSwzLjUgMCwtMyAxMCwwIDEwLDAgMCwzIDUuNSwtMy41IDUuNSwtMy41IC01LjUsLTMuNSAtNS41LC0zLjUgMCwzIC0xMCwwIC0xMCwwIDAsLTMgeiIKICAgICAgIGlkPSJwYXRoMzgyOSIKICAgICAgIHN0eWxlPSJmaWxsOiM4ODg7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiIC8+CiAgPC9nPgo8L3N2Zz4K);background-repeat:no-repeat;cursor:pointer;margin:13px 5px;float:left}.pdf-toolbar .pdf-page-nav .pdf-prev{background-position:0 0}.pdf-toolbar .pdf-page-nav .pdf-next{background-position:-21px 0}.pdf-toolbar .pdf-page-nav span:nth-child(2){margin:12px 4px 12px 14px}.pdf-toolbar .pdf-page-nav span:last-child{margin:12px 4px}.pdf-toolbar .pdf-scale{font-size:26px;position:absolute;top:0;left:0;bottom:0;right:0;margin:0 auto;width:170px}.pdf-toolbar .pdf-scale>div{cursor:pointer;margin:14px 10px;width:12px;height:12px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSIyNCIKICAgaGVpZ2h0PSIxMiIKICAgaWQ9InN2ZzIiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0IiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTA0MC4zNjIyKSIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBkPSJtIDE3LDAgMCw1IC01LDAgLTEyLDAgMCwyIDEyLDAgNSwwIDAsNSAyLDAgMCwtNSA1LDAgMCwtMiAtNSwwIDAsLTUgLTIsMCB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwxMDQwLjM2MjIpIgogICAgICAgaWQ9InJlY3QyOTg3IgogICAgICAgc3R5bGU9ImZpbGw6Izg4ODtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgLz4KICA8L2c+Cjwvc3ZnPgo=);background-repeat:no-repeat;float:left}.pdf-toolbar .pdf-scale>div:nth-child(2){background-position:-12px 0}.pdf-input-field{font-size:12px}.pdf-input-field.pdf-page-num,.pdf-input-field.pdf-zoom-lvl{border:0;outline:0;height:30px;text-align:center;border-radius:2px;background:#f1f1f1;box-shadow:inset 0 1px 1px #ccc;margin:5px}.pdf-input-field.pdf-page-num{width:30px}.pdf-input-field.pdf-zoom-lvl{width:90px;float:left;margin:5px 0 5px 10px}</style> <style>@host{:scope{display:block;font:normal 16px Calibri,"Trebuchet MS",Verdana,sans-serif;overflow:hidden}}</style> <div class="pdf-viewer"> <div class="pdf-toolbar"> <ul class="pdf-ul"> <li class="pdf-page-nav pdf-hidden"> <div class="pdf-next-prev"> <div class="pdf-nav pdf-prev pdf-disabled"></div> <div class="pdf-nav pdf-next"></div> </div> <span>Page:</span> <input type="text" class="pdf-page-num pdf-input-field" autocomplete="off"> <span>of <span class="pdf-total-page"></span></span> </li> <li class="pdf-scale"> <div class="pdf-scale-down"></div> <div class="pdf-scale-up"></div> <select class="pdf-zoom-lvl pdf-input-field"> <option class="pdf-custom-zoom pdf-hidden"></option> <option class="pdf-fit-zoom" selected="selected" value="fit">Page Fit</option> <option value="width">Page Width</option> <option value="50">50%</option> <option value="75">75%</option> <option value="100">100%</option> <option value="125">125%</option> <option value="150">150%</option> <option value="200">200%</option> </select> </li> <li class="pdf-download"> <button class="pdf-btn" type="button"></button> </li> </ul> </div> <div class="pdf-viewport-out"> <canvas class="pdf-viewport"></canvas> </div> </div> </template> <script>"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="0.8.601",PDFJS.build="702ae3b",function(){"use strict";function a(a){E>=D&&(H("Info: "+a),PDFJS.LogManager.notify("info",a))}function b(a){E>=C&&(H("Warning: "+a),PDFJS.LogManager.notify("warn",a))}function c(a){if(arguments.length>1){var b=["Error:"];b.push.apply(b,arguments),H.apply(null,b),a=[].join.call(arguments," ")}else H("Error: "+a);throw H(e()),PDFJS.LogManager.notify("error",a),new Error(a)}function d(a){b("TODO: "+a)}function e(){try{throw new Error}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):""}}function f(a,b){a||c(b)}function g(a,b){if(!b)return a;if(b.indexOf(":")>=0)return b;if("/"==b.charAt(0)){var c=a.indexOf("://");return c=a.indexOf("/",c+3),a.substring(0,c)+b}var c,d=a.length;c=a.lastIndexOf("#"),d=c>=0?c:d,c=a.lastIndexOf("?",d),d=c>=0?c:d;var e=a.lastIndexOf("/",d);return a.substring(0,e+1)+b}function h(a,b){if(!a)return!1;var c=a.indexOf(":");if(0>c)return b;var d=a.substr(0,c);switch(d){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function i(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}function j(a){for(var b="",c=a.length,d=0;c>d;++d)b+=String.fromCharCode(a[d]);return b}function k(a){for(var b=a.length,c=new Uint8Array(b),d=0;b>d;++d)c[d]=255&a.charCodeAt(d);return c}function l(a){var b,c=a.length,d="";if("Ã¾"===a[0]&&"Ã¿"===a[1])for(b=2;c>b;b+=2)d+=String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1));else for(b=0;c>b;++b){var e=M[a.charCodeAt(b)];d+=e?String.fromCharCode(e):a.charAt(b)}return d}function m(a){return"boolean"==typeof a}function n(a){return"number"==typeof a}function o(a){return"string"==typeof a}function p(a){return a instanceof Name}function q(a,b){if(!(a instanceof Dict))return!1;if(!b)return!0;var c=a.get("Type");return p(c)&&c.name==b}function r(a){return a instanceof Array}function s(a){return"object"==typeof a&&null!==a&&void 0!==a&&"getBytes"in a}function t(a){return"object"==typeof a&&null!==a&&void 0!==a&&"byteLength"in a}function u(a){var b;if("object"!=typeof a)return!1;if(q(a))b=a;else{if(!s(a))return!1;b=a.dict}return b.has("FunctionType")}function v(a,d){this.name=a,this.comObj=d,this.callbackIndex=1;var e=this.callbacks={},f=this.actionHandler={};f.console_log=[function(a){H.apply(null,a)}],f.console_error="console"in A?[function(a){A.console.error.apply(null,a)}]:[function(a){H.apply(null,a)}],f._warn=[function(a){b(a)}],d.onmessage=function(a){var b=a.data;if(b.isReply){var g=b.callbackId;if(b.callbackId in e){var h=e[g];delete e[g],h(b.data)}else c("Cannot resolve callback "+g)}else if(b.action in f){var i=f[b.action];if(b.callbackId){var j=new N;j.then(function(a){d.postMessage({isReply:!0,callbackId:b.callbackId,data:a})}),i[0].call(i[1],b.data,j)}else i[0].call(i[1],b.data)}else c("Unkown action from worker: "+b.action)}}function w(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)},d.src="data:image/jpeg;base64,"+window.btoa(b)}function x(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c}function y(a){a.mozCurrentTransform||(a._scaleX=a._scaleX||1,a._scaleY=a._scaleY||1,a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=[a._scaleX,0,0,a._scaleY,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]=c[0]*a,c[1]=c[1]*a,c[2]=c[2]*b,c[3]=c[3]*b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]],this._originalRotate(a)})}function z(a){var b,c,d,e=1e3,f=a.width,g=a.height,h=f+1,i=new Uint8Array(h*(g+1)),j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=3,l=a.data,m=4*f,n=0;for(0!==l[3]&&(i[0]=1,++n),c=1;f>c;c++)l[k]!==l[k+4]&&(i[c]=l[k]?2:1,++n),k+=4;for(0!==l[k]&&(i[c]=2,++n),k+=4,b=1;g>b;b++){d=b*h,l[k-m]!==l[k]&&(i[d]=l[k]?1:8,++n);var o=(l[k]?4:0)+(l[k-m]?8:0);for(c=1;f>c;c++)o=(o>>2)+(l[k+4]?4:0)+(l[k-m+4]?8:0),j[o]&&(i[d+c]=j[o],++n),k+=4;if(l[k-m]!==l[k]&&(i[d+c]=l[k]?2:4,++n),k+=4,n>e)return null}for(k-=m,d=b*h,0!==l[k]&&(i[d]=8,++n),c=1;f>c;c++)l[k]!==l[k+4]&&(i[d+c]=l[k]?4:8,++n),k+=4;if(0!==l[k]&&(i[d+c]=4,++n),n>e)return null;var p=new Int32Array([0,h,-1,0,-h,0,0,0,1]),q=[];for(b=0;n&&g>=b;b++){for(var r=b*h,s=r+f;s>r&&!i[r];)r++;if(r!==s){var t,u=[r%h,b],v=i[r],w=r;do{var x=p[v];do r+=x;while(!i[r]);t=i[r],5!==t&&10!==t?(v=t,i[r]=0):(v=t&51*v>>4,i[r]&=v>>2|v<<2),u.push(r%h),u.push(0|r/h),--n}while(w!==r);q.push(u),--b}}var y=function(a){a.save(),a.scale(1/f,-1/g),a.translate(0,-g),a.beginPath();for(var b=0,c=q.length;c>b;b++){var d=q[b];a.moveTo(d[0],d[1]);for(var e=2,h=d.length;h>e;e+=2)a.lineTo(d[e],d[e+1])}a.fill(),a.beginPath(),a.restore()};return y}var A="undefined"==typeof window?this:window,B="undefined"==typeof window,C=1,D=5,E=C,F=[.001,0,0,.001,0,0],G={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};A.PDFJS||(A.PDFJS={}),A.PDFJS.pdfBug=!1;var H=function(){return"console"in A&&"log"in A.console?A.console.log.bind(A.console):function(){}}();PDFJS.isValidUrl=h,PDFJS.LogManager=function(){var a=[];return{addLogger:function(b){a.push(b)},notify:function(b,c){for(var d=0,e=a.length;e>d;d++){var f=a[d];f[b]&&f[b](c)}}}}();var I=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};!function(){function a(a,b){this.name="PasswordException",this.message=a,this.code=b}return a.prototype=new Error,a.constructor=a,a}(),!function(){function a(a,b){this.name="UnknownErrorException",this.message=a,this.details=b}return a.prototype=new Error,a.constructor=a,a}(),!function(){function a(a){this.name="InvalidPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),!function(){function a(a){this.name="MissingPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}();var J=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="NotImplementedException",a.constructor=a,a}();!function(){function a(a,b){this.begin=a,this.end=b,this.message="Missing data [begin, end)"}return a.prototype=new Error,a.prototype.name="MissingDataException",a.constructor=a,a}(),!function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="XRefParseException",a.constructor=a,a}();var K=[1,0,0,1,0,0],L=PDFJS.Util=function(){function a(){}return a.makeCssRgb=function(a){return"rgb("+a[0]+","+a[1]+","+a[2]+")"},a.makeCssCmyk=function(b){var c=P.singletons.cmyk.getRgb(b,0);return a.makeCssRgb(c)},a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},a.applyTransform=function(a,b){var c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]},a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]},a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]},a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]},a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]},a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]},a.normalizeRect=function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b},a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return b=a.normalizeRect(b),c=a.normalizeRect(c),e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0]?(g[0]=e[1],g[2]=e[2],f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1]?(g[1]=f[1],g[3]=f[2],g):!1):!1},a.sign=function(a){return 0>a?-1:1},a.concatenateToArray=function(a,b){Array.prototype.push.apply(a,b)},a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)},a.extendObj=function(a,b){for(var c in b)a[c]=b[c]},a.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return a?a.get(b):null},a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype),a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]},a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a),b&&(c.onload=function(){d||b(),d=!0}),document.getElementsByTagName("head")[0].appendChild(c)},a}();PDFJS.PageViewport=function(){function a(a,b,c,d,e,f){this.viewBox=a,this.scale=b,this.rotation=c,this.offsetX=d,this.offsetY=e;var g,h,i,j,k=(a[2]+a[0])/2,l=(a[3]+a[1])/2;switch(c%=360,c=0>c?c+360:c){case 180:g=-1,h=0,i=0,j=1;break;case 90:g=0,h=1,i=1,j=0;break;case 270:g=0,h=-1,i=-1,j=0;break;default:g=1,h=0,i=0,j=-1}f&&(i=-i,j=-j);var m,n,o,p;0===g?(m=Math.abs(l-a[1])*b+d,n=Math.abs(k-a[0])*b+e,o=Math.abs(a[3]-a[1])*b,p=Math.abs(a[2]-a[0])*b):(m=Math.abs(k-a[0])*b+d,n=Math.abs(l-a[1])*b+e,o=Math.abs(a[2]-a[0])*b,p=Math.abs(a[3]-a[1])*b),this.transform=[g*b,h*b,i*b,j*b,m-g*b*k-i*b*l,n-h*b*k-j*b*l],this.width=o,this.height=p,this.fontScale=b}return a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return L.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=L.applyTransform([a[0],a[1]],this.transform),c=L.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]},convertToPdfPoint:function(a,b){return L.applyInverseTransform([a,b],this.transform)}},a}();var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],N=PDFJS.Promise=function(){function a(){this._status=c,this._handlers=[]}var c=0,d=1,e=2,f=500,g={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(a){a._status!=c&&(this.handlers=this.handlers.concat(a._handlers),a._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(;this.handlers.length>0;){var a=this.handlers.shift(),b=a.thisPromise._status,c=a.thisPromise._value;try{b===d?"function"==typeof a.onResolve&&(c=a.onResolve(c)):"function"==typeof a.onReject&&(c=a.onReject(c),b=d,a.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(a.thisPromise))}catch(f){b=e,c=f}a.nextPromise._updateStatus(b,c)}this.running=!1},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),b--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var a=Date.now(),c=0;c<this.unhandledRejections.length;c++)if(a-this.unhandledRejections[c].time>f){var d=this.unhandledRejections[c].promise._value,e="Unhandled rejection: "+d;d.stack&&(e+="\n"+d.stack),b(e),this.unhandledRejections.splice(c),c--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),f))}};return a.all=function(b){function c(a){d._status!==e&&(g=[],d.reject(a))}var d=new a,f=b.length,g=[];if(0===f)return d.resolve(g),d;for(var h=0,i=b.length;i>h;++h){var j=b[h];j.then(function(a){return function(b){d._status!==e&&(g[a]=b,f--,0===f&&d.resolve(g))}}(h),c)}return d},a.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(a,b){if(this._status!==d&&this._status!==e){if(a==d&&b&&"function"==typeof b.then)return b.then(this._updateStatus.bind(this,d),this._updateStatus.bind(this,e)),void 0;this._status=a,this._value=b,a===e&&0===this._handlers.length&&(this._unhandledRejection=!0,g.addUnhandledRejection(this)),g.scheduleHandlers(this)}},get isResolved(){return this._status===d},get isRejected(){return this._status===e},resolve:function(a){this._updateStatus(d,a)},reject:function(a){this._updateStatus(e,a)},then:function(b,c){var d=new a;return this._handlers.push({thisPromise:this,onResolve:b,onReject:c,nextPromise:d}),g.scheduleHandlers(this),d}},a}(),O=function(){function a(a,b,c){for(;a.length<c;)a+=b;return a}function c(){this.started={},this.times=[],this.enabled=!0}return c.prototype={time:function(a){this.enabled&&(a in this.started&&b("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||b("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])},toString:function(){for(var b=this.times,c="",d=0,e=0,f=b.length;f>e;++e){var g=b[e].name;g.length>d&&(d=g.length)}for(var e=0,f=b.length;f>e;++e){var h=b[e],i=h.end-h.start;c+=a(h.name," ",d)+" "+i+"ms\n"}return c}},c}();PDFJS.createBlob=function(a,b){if("function"==typeof Blob)return new Blob([a],{type:b});var c=new MozBlobBuilder;return c.append(a),c.getBlob(b)},v.prototype={on:function(a,b,d){var e=this.actionHandler;e[a]&&c('There is already an actionName called "'+a+'"'),e[a]=[b,d]},send:function(a,b,c){var d={action:a,data:b};if(c){var e=this.callbackIndex++;this.callbacks[e]=c,d.callbackId=e}this.comObj.postMessage(d)}};var P=function(){function a(){c("should not call ColorSpace constructor")}return a.prototype={getRgb:function(){c("Should not call ColorSpace.getRgb")},getRgbItem:function(){c("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(){c("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(){c("Should not call ColorSpace.getOutputLength")},isPassthrough:function(){return!1},createRgbBuffer:function(a,b,c,d){if(this.isPassthrough(d))return a.subarray(b);var e=new Uint8Array(3*c),f=1<<d;if(1===this.numComps&&c>f&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var g=8>=d?new Uint8Array(f):new Uint16Array(f),h=0;f>h;h++)g[h]=h;var i=new Uint8Array(3*f);this.getRgbBuffer(g,0,f,i,0,d);for(var j=0,h=0;c>h;++h){var k=3*a[b++];e[j++]=i[k],e[j++]=i[k+1],e[j++]=i[k+2]}return e}return this.getRgbBuffer(a,b,c,e,0,d),e},usesZeroToOneRange:!0},a.parse=function(b,c,d){var e=a.parseToIR(b,c,d);return e instanceof Q?e:a.fromIR(e)},a.fromIR=function(b){var d=r(b)?b[0]:b;switch(d){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"PatternCS":var e=b[1];return e&&(e=a.fromIR(e)),new R(e);case"IndexedCS":var f=b[1],g=b[2],h=b[3];return new S(a.fromIR(f),g,h);case"AlternateCS":var i=b[1],j=b[2],k=b[3];return new Q(i,a.fromIR(j),_.fromIR(k));case"LabCS":var l=b[1].WhitePoint,m=b[1].BlackPoint,n=b[1].Range;return new W(l,m,n);default:c("Unkown name "+d)}return null},a.parseToIR=function(b,d,e){if(p(b)){var f=e.get("ColorSpace");if(q(f)){var g=f.get(b.name);g&&(b=g)}}b=d.fetchIfRef(b);var h;if(p(b))switch(h=b.name,this.mode=h,h){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:c("unrecognized colorspace "+h)}else if(r(b))switch(h=b[0].name,this.mode=h,h){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return"DeviceGrayCS";case"CalRGB":return"DeviceRgbCS";case"ICCBased":var i=d.fetchIfRef(b[1]),j=i.dict,k=j.get("N");if(1==k)return"DeviceGrayCS";if(3==k)return"DeviceRgbCS";if(4==k)return"DeviceCmykCS";break;case"Pattern":var l=b[1];return l&&(l=a.parseToIR(l,d,e)),["PatternCS",l];case"Indexed":case"I":var m=a.parseToIR(b[1],d,e),n=b[2]+1,o=d.fetchIfRef(b[3]);return s(o)&&(o=o.getBytes()),["IndexedCS",m,n,o];case"Separation":case"DeviceN":var t=b[1],k=1;p(t)?k=1:r(t)&&(k=t.length);var u=a.parseToIR(b[2],d,e),v=_.getIR(d,d.fetchIfRef(b[3]));return["AlternateCS",k,u,v];case"Lab":var w=b[1].getAll();return["LabCS",w];default:c('unimplemented color space object "'+h+'"')}else c('unrecognized color space object: "'+b+'"');return null},a.isDefaultDecode=function(a,c){if(!a)return!0;if(2*c!==a.length)return b("The decode map is not the correct length"),!0;for(var d=0,e=a.length;e>d;d+=2)if(0!==a[d]||1!=a[d+1])return!1;return!0},a.singletons={get gray(){return i(this,"gray",new T)},get rgb(){return i(this,"rgb",new U)},get cmyk(){return i(this,"cmyk",new V)}},a}(),Q=function(){function a(a,b,c){this.name="Alternate",this.numComps=a,this.defaultColor=new Float32Array(a);for(var d=0;a>d;++d)this.defaultColor[d]=1;this.base=b,this.tintFn=c}return a.prototype={getRgb:function(a,b){var c=new Uint8Array(3);return this.getRgbItem(a,b,c,0),c},getRgbItem:function(a,b,c,d){this.base.numComps;var e="subarray"in a?a.subarray(b,b+this.numComps):Array.prototype.slice.call(a,b,b+this.numComps),f=this.tintFn(e);this.base.getRgbItem(f,0,c,d)},getRgbBuffer:function(a,b,c,d,e,f){for(var g=this.tintFn,h=this.base,i=1/((1<<f)-1),j=h.numComps,k=h.usesZeroToOneRange,l=h.isPassthrough(8)||!k,m=l?e:0,n=l?d:new Uint8Array(j*c),o=this.numComps,p=new Float32Array(o),q=0;c>q;q++){for(var r=0;o>r;r++)p[r]=a[b++]*i;var s=g(p);if(k)for(var r=0;j>r;r++)n[m++]=255*s[r];else h.getRgbItem(s,0,n,m),m+=j}l||h.getRgbBuffer(n,0,c,d,e,8)},getOutputLength:function(a){return this.base.getOutputLength(a*this.base.numComps/this.numComps)},isPassthrough:P.prototype.isPassthrough,createRgbBuffer:P.prototype.createRgbBuffer,isDefaultDecode:function(a){return P.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),R=function(){function a(a){this.name="Pattern",this.base=a}return a.prototype={},a}(),S=function(){function a(a,b,d){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=a,this.highVal=b;var e,f=a.numComps,g=f*b;if(s(d)){e=new Uint8Array(g);var h=d.getBytes(g);e.set(h)}else if(o(d)){e=new Uint8Array(g);for(var i=0;g>i;++i)e[i]=d.charCodeAt(i)}else d instanceof Uint8Array||d instanceof Array?e=d:c("Unrecognized lookup table: "+d);this.lookup=e}return a.prototype={getRgb:function(a,b){var c=this.base.numComps,d=a[b]*c;return this.base.getRgb(this.lookup,d)},getRgbItem:function(a,b,c,d){var e=this.base.numComps,f=a[b]*e;this.base.getRgbItem(this.lookup,f,c,d)},getRgbBuffer:function(a,b,c,d,e){for(var f=this.base,g=f.numComps,h=f.getOutputLength(g),i=this.lookup,j=0;c>j;++j){var k=a[b++]*g;f.getRgbBuffer(i,k,1,d,e,8),e+=h}},getOutputLength:function(a){return this.base.getOutputLength(a*this.base.numComps)},isPassthrough:P.prototype.isPassthrough,createRgbBuffer:P.prototype.createRgbBuffer,isDefaultDecode:function(){return!0},usesZeroToOneRange:!0},a}(),T=function(){function a(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return a.prototype={getRgb:function(a,b){var c=new Uint8Array(3);return this.getRgbItem(a,b,c,0),c},getRgbItem:function(a,b,c,d){var e=0|255*a[b];e=0>e?0:e>255?255:e,c[d]=c[d+1]=c[d+2]=e},getRgbBuffer:function(a,b,c,d,e,f){for(var g=255/((1<<f)-1),h=b,i=e,j=0;c>j;++j){var k=0|g*a[h++];d[i++]=k,d[i++]=k,d[i++]=k}},getOutputLength:function(a){return 3*a},isPassthrough:P.prototype.isPassthrough,createRgbBuffer:P.prototype.createRgbBuffer,isDefaultDecode:function(a){return P.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),U=function(){function a(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return a.prototype={getRgb:function(a,b){var c=new Uint8Array(3);return this.getRgbItem(a,b,c,0),c},getRgbItem:function(a,b,c,d){var e=0|255*a[b],f=0|255*a[b+1],g=0|255*a[b+2];c[d]=0>e?0:e>255?255:e,c[d+1]=0>f?0:f>255?255:f,c[d+2]=0>g?0:g>255?255:g},getRgbBuffer:function(a,b,c,d,e,f){var g=3*c;if(8==f)return d.set(a.subarray(b,b+g),e),void 0;for(var h=255/((1<<f)-1),i=b,j=e,k=0;g>k;++k)d[j++]=0|h*a[i++]},getOutputLength:function(a){return a},isPassthrough:function(a){return 8==a},createRgbBuffer:P.prototype.createRgbBuffer,isDefaultDecode:function(a){return P.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),V=function(){function a(a,b,c,d,e){var f=a[b+0]*c,g=a[b+1]*c,h=a[b+2]*c,i=a[b+3]*c,j=f*(-4.387332384609988*f+54.48615194189176*g+18.82290502165302*h+212.25662451639585*i+-285.2331026137004)+g*(1.7149763477362134*g-5.6096736904047315*h+-17.873870861415444*i-5.497006427196366)+h*(-2.5217340131683033*h-21.248923337353073*i+17.5119270841813)+i*(-21.86122147463605*i-189.48180835922747)+255,k=f*(8.841041422036149*f+60.118027045597366*g+6.871425592049007*h+31.159100130055922*i+-79.2970844816548)+g*(-15.310361306967817*g+17.575251261109482*h+131.35250912493976*i-190.9453302588951)+h*(4.444339102852739*h+9.8632861493405*i-24.86741582555878)+i*(-20.737325471181034*i-187.80453709719578)+255,l=f*(.8842522430003296*f+8.078677503112928*g+30.89978309703729*h-.23883238689178934*i+-14.183576799673286)+g*(10.49593273432072*g+63.02378494754052*h+50.606957656360734*i-112.23884253719248)+h*(.03296041114873217*h+115.60384449646641*i+-193.58209356861505)+i*(-22.33816807309886*i-180.12613974708367)+255;d[e]=j>255?255:0>j?0:j,d[e+1]=k>255?255:0>k?0:k,d[e+2]=l>255?255:0>l?0:l}function b(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return b.prototype={getRgb:function(b,c){var d=new Uint8Array(3);return a(b,c,1,d,0),d},getRgbItem:function(b,c,d,e){a(b,c,1,d,e)},getRgbBuffer:function(b,c,d,e,f,g){for(var h=1/((1<<g)-1),i=0;d>i;i++)a(b,c,h,e,f),c+=4,f+=3},getOutputLength:function(a){return 3*(a>>2)},isPassthrough:P.prototype.isPassthrough,createRgbBuffer:P.prototype.createRgbBuffer,isDefaultDecode:function(a){return P.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},b}(),W=function(){function b(b,d,e){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),b||c("WhitePoint missing - required for color space Lab"),d=d||[0,0,0],e=e||[-100,100,-100,100],this.XW=b[0],this.YW=b[1],this.ZW=b[2],this.amin=e[0],this.amax=e[1],this.bmin=e[2],this.bmax=e[3],this.XB=d[0],this.YB=d[1],this.ZB=d[2],(this.XW<0||this.ZW<0||1!==this.YW)&&c("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(a("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(a("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function d(a){return a>=6/29?a*a*a:108/841*(a-4/29)}function e(a,b,c,d){return c+a*(d-c)/b}function f(a,b,c,f,g,h){var i=b[c],j=b[c+1],k=b[c+2];f!==!1&&(i=e(i,f,0,100),j=e(j,f,a.amin,a.amax),k=e(k,f,a.bmin,a.bmax)),j=j>a.amax?a.amax:j<a.amin?a.amin:j,k=k>a.bmax?a.bmax:k<a.bmin?a.bmin:k;var l,m,n,o=(i+16)/116,p=o+j/500,q=o-k/200,r=a.XW*d(p),s=a.YW*d(o),t=a.ZW*d(q);a.ZW<1?(l=3.1339*r+-1.617*s+t*-.4906,m=r*-.9785+1.916*s+.0333*t,n=.072*r+s*-.229+1.4057*t):(l=3.2406*r+-1.5372*s+t*-.4986,m=r*-.9689+1.8758*s+.0415*t,n=.0557*r+s*-.204+1.057*t),g[h]=255*Math.sqrt(0>l?0:l>1?1:l),g[h+1]=255*Math.sqrt(0>m?0:m>1?1:m),g[h+2]=255*Math.sqrt(0>n?0:n>1?1:n)}return b.prototype={getRgb:function(a,b){var c=new Uint8Array(3);return f(this,a,b,!1,c,0),c},getRgbItem:function(a,b,c,d){f(this,a,b,!1,c,d)},getRgbBuffer:function(a,b,c,d,e,g){for(var h=(1<<g)-1,i=0;c>i;i++)f(this,a,b,h,d,e),b+=3,e+=3},getOutputLength:function(a){return a},isPassthrough:P.prototype.isPassthrough,isDefaultDecode:function(){return!0},usesZeroToOneRange:!1},b}(),X={AXIAL:2,RADIAL:3},Y=function(){function a(){c("should not call Pattern constructor")}return a.prototype={getPattern:function(a){c("Should not call Pattern.getStyle: "+a)}},a.shadingFromIR=function(a){return Z[a[0]].fromIR(a)},a.parseShading=function(a,b,c,e){var f=s(a)?a.dict:a,g=f.get("ShadingType");switch(g){case X.AXIAL:case X.RADIAL:return new Z.RadialAxial(f,b,c,e);default:return d("Unsupported shading type: "+g),new Z.Dummy}},a}(),Z={};Z.SMALL_NUMBER=.01,Z.RadialAxial=function(){function d(d,e,f,g,h){this.matrix=e,this.coordsArr=d.get("Coords"),this.shadingType=d.get("ShadingType"),this.type="Pattern",this.ctx=h;var i=d.get("ColorSpace","CS");i=P.parse(i,f,g),this.cs=i;var j=0,k=1;if(d.has("Domain")){var l=d.get("Domain");j=l[0],k=l[1]}var m=!1,n=!1;if(d.has("Extend")){var o=d.get("Extend");m=o[0],n=o[1]}if(!(this.shadingType!==X.RADIAL||m&&n)){var p=this.coordsArr[0],q=this.coordsArr[1],s=this.coordsArr[2],t=this.coordsArr[3],v=this.coordsArr[4],w=this.coordsArr[5],x=Math.sqrt((p-t)*(p-t)+(q-v)*(q-v));w+x>=s&&s+x>=w&&b("Unsupported radial gradient.")}this.extendStart=m,this.extendEnd=n;var y,z=d.get("Function");if(r(z)){for(var A=[],B=0,C=z.length;C>B;B++){var D=f.fetchIfRef(z[B]);u(D)||c("Invalid function"),A.push(_.parse(f,D))}y=function(a){for(var b=[],c=0,d=A.length;d>c;c++)b.push(A[c](a)[0]);return b}}else u(z)||c("Invalid function"),y=_.parse(f,z);var E=k-j,F=E/10,G=this.colorStops=[];if(j>=k||0>=F)return a("Bad shading domain."),void 0;for(var H=j;k>=H;H+=F){var I=i.getRgb(y([H]),0),J=L.makeCssRgb(I);G.push([(H-j)/E,J])}var K="transparent";if(d.has("Background")){var I=i.getRgb(d.get("Background"),0);K=L.makeCssRgb(I)}m||(G.unshift([0,K]),G[1][0]+=Z.SMALL_NUMBER),n||(G[G.length-1][0]-=Z.SMALL_NUMBER,G.push([1,K])),this.colorStops=G}return d.fromIR=function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],g=a[6];return{type:"Pattern",getPattern:function(a){var h;b==X.AXIAL?h=a.createLinearGradient(d[0],d[1],e[0],e[1]):b==X.RADIAL&&(h=a.createRadialGradient(d[0],d[1],f,e[0],e[1],g));for(var i=0,j=c.length;j>i;++i){var k=c[i];h.addColorStop(k[0],k[1])}return h}}},d.prototype={getIR:function(){var a=this.coordsArr,b=this.shadingType;if(b==X.AXIAL)var d=[a[0],a[1]],e=[a[2],a[3]],f=null,g=null;else if(b==X.RADIAL)var d=[a[0],a[1]],e=[a[3],a[4]],f=a[2],g=a[5];else c("getPattern type unknown: "+b);var h=this.matrix;return h&&(d=L.applyTransform(d,h),e=L.applyTransform(e,h)),["RadialAxial",b,this.colorStops,d,e,f,g]}},d}(),Z.Dummy=function(){function a(){this.type="Pattern"}return a.fromIR=function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}},a.prototype={getIR:function(){return["Dummy"]}},a}();var $=function(){function a(a,b,c,d,e,f){this.name=a[1][0].name,this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=b,this.objs=d,this.commonObjs=e,this.baseTransform=f,this.type="Pattern",this.ctx=c}var b={COLORED:1,UNCOLORED:2},e=3e3;return a.getIR=function(a,b,c){var d=b.get("Matrix"),e=b.get("BBox"),f=b.get("XStep"),g=b.get("YStep"),h=b.get("PaintType"),i=b.get("TilingType");return["TilingPattern",c,a,d,e,f,g,h,i]},a.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,f=this.xstep,g=this.ystep,h=this.paintType,i=this.tilingType,j=this.color,k=this.objs,l=this.commonObjs;this.ctx,d("TilingType: "+i);var m=c[0],n=c[1],o=c[2],p=c[3],q=[m,n],r=[m+f,n+g],s=r[0]-q[0],t=r[1]-q[1],u=L.singularValueDecompose2dScale(this.matrix),v=L.singularValueDecompose2dScale(this.baseTransform),w=[u[0]*v[0],u[1]*v[1]];s=Math.min(Math.ceil(Math.abs(s*w[0])),e),t=Math.min(Math.ceil(Math.abs(t*w[1])),e);var x=ub.getCanvas("pattern",s,t,!0),y=x.context,z=new wb(y,l,k);z.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(y,h,j),this.setScale(s,t,f,g),this.transformToScale(z);var A=[1,0,0,1,-q[0],-q[1]];return z.transform.apply(z,A),this.clipBbox(z,c,m,n,o,p),z.executeOperatorList(b),x.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale,c=[b[0],0,0,b[1],0,0];a.transform.apply(a,c)},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,e,f){if(b&&r(b)&&4==b.length){var g=e-c,h=f-d;a.rectangle(c,d,g,h),a.clip(),a.endPath()}},setFillAndStrokeStyleToContext:function(a,d,e){switch(d){case b.COLORED:var f=this.ctx;a.fillStyle=f.fillStyle,a.strokeStyle=f.strokeStyle;break;case b.UNCOLORED:var g=P.singletons.rgb.getRgb(e,0),h=L.makeCssRgb(g);a.fillStyle=h,a.strokeStyle=h;break;default:c("Unsupported paint type: "+d)}},getPattern:function(a,b){var c=this.createPatternCanvas(b),a=this.ctx;return a.setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix),this.scaleToContext(),a.createPattern(c,"repeat")}},a}(),_=function(){var a=0,b=2,e=3,f=4;return{getSampleArray:function(a,b,c,d){for(var e=1,f=0,g=a.length;g>f;f++)e*=a[f];e*=b;for(var h=[],i=0,j=0,k=1/(Math.pow(2,c)-1),l=d.getBytes((e*c+7)/8),m=0,f=0;e>f;f++){for(;c>i;)j<<=8,j|=l[m++],i+=8;i-=c,h.push((j>>i)*k),j&=(1<<i)-1}return h},getIR:function(a,b){var d=b.dict;d||(d=b);var e=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],f=d.get("FunctionType"),g=e[f];return g||c("Unknown type of function"),g.call(this,b,d,a)},fromIR:function(c){var d=c[0];switch(d){case a:return this.constructSampledFromIR(c);case b:return this.constructInterpolatedFromIR(c);case e:return this.constructStichedFromIR(c);default:return this.constructPostScriptFromIR(c)}},parse:function(a,b){var c=this.getIR(a,b);return this.fromIR(c)},constructSampled:function(b,e){function f(a){var b=a.length;a.length/2;for(var c=[],d=0,e=0;b>e;e+=2)c[d]=[a[e],a[e+1]],++d;return c}var g=e.get("Domain"),h=e.get("Range");g&&h||c("No domain or range");var i=g.length/2,j=h.length/2;g=f(g),h=f(h);var k=e.get("Size"),l=e.get("BitsPerSample"),m=e.get("Order")||1;1!==m&&d("No support for cubic spline interpolation: "+m);var n=e.get("Encode");if(!n){n=[];for(var o=0;i>o;++o)n.push(0),n.push(k[o]-1)}n=f(n);var p=e.get("Decode");p=p?f(p):h;var q=this.getSampleArray(k,j,l,b);return[a,i,g,n,p,q,k,j,Math.pow(2,l)-1,h]},constructSampledFromIR:function(a){function b(a,b,c,d,e){return d+(a-b)*((e-d)/(c-b))}return function(d){var e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7];a[8];var l=a[9];e!=d.length&&c("Incorrect number of arguments: "+e+" != "+d.length);
for(var m=d,n=1<<e,o=new Float64Array(n),p=new Uint32Array(n),q=0;n>q;q++)o[q]=1;for(var r=k,s=1,t=0;e>t;++t){var u=f[t][0],v=f[t][1],w=Math.min(Math.max(m[t],u),v),x=b(w,u,v,g[t][0],g[t][1]),y=j[t];x=Math.min(Math.max(x,0),y-1);for(var z=y-1>x?Math.floor(x):x-1,A=z+1-x,B=x-z,C=z*r,D=C+r,q=0;n>q;q++)q&s?(o[q]*=B,p[q]+=D):(o[q]*=A,p[q]+=C);r*=y,s<<=1}for(var E=new Float64Array(k),q=0;k>q;++q){for(var F=0,t=0;n>t;t++)F+=i[p[t]+q]*o[t];F=b(F,0,1,h[q][0],h[q][1]),E[q]=Math.min(Math.max(F,l[q][0]),l[q][1])}return E}},constructInterpolated:function(a,d){var e=d.get("C0")||[0],f=d.get("C1")||[1],g=d.get("N");r(e)&&r(f)||c("Illegal dictionary for interpolated function");for(var h=e.length,i=[],j=0;h>j;++j)i.push(f[j]-e[j]);return[b,e,i,g]},constructInterpolatedFromIR:function(a){var b=a[1],c=a[2],d=a[3],e=c.length;return function(a){for(var f=1==d?a[0]:Math.pow(a[0],d),g=[],h=0;e>h;++h)g.push(b[h]+f*c[h]);return g}},constructStiched:function(a,b,d){var f=b.get("Domain");f||c("No domain");var g=f.length/2;1!=g&&c("Bad domain for stiched function");for(var h=b.get("Functions"),i=[],j=0,k=h.length;k>j;++j)i.push(_.getIR(d,d.fetchIfRef(h[j])));var l=b.get("Bounds"),m=b.get("Encode");return[e,f,l,m,i]},constructStichedFromIR:function(a){for(var b=a[1],c=a[2],d=a[3],e=a[4],f=[],g=0,h=e.length;h>g;g++)f.push(_.fromIR(e[g]));return function(a){for(var e=function(a,b,c){return a>c?a=c:b>a&&(a=b),a},g=e(a[0],b[0],b[1]),h=0,i=c.length;i>h&&!(g<c[h]);++h);var j=b[0];h>0&&(j=c[h-1]);var k=b[1];h<c.length&&(k=c[h]);var l=d[2*h],m=d[2*h+1],n=l+(g-j)*(m-l)/(k-j);return f[h]([n])}},constructPostScript:function(a,b){var d=b.get("Domain"),e=b.get("Range");d||c("No domain."),e||c("No range.");var g=new gb(a),h=new db(g),i=h.parse();return[f,d,e,i]},constructPostScriptFromIR:function(a){var b=a[1],c=a[2],d=a[3],e=c.length/2,f=new cb(d),g=new ab;return function(a){for(var d=[],h=0,i=b.length/2;i>h;++h)d.push(a[h]);var j=d.join("_");if(g.has(j))return g.get(j);var k=f.execute(d),l=[];for(h=e-1;h>=0;--h){var m=k.pop(),n=2*h;m<c[n]?m=c[n]:m>c[n+1]&&(m=c[n+1]),l[h]=m}return g.set(j,l),l}}}}(),ab=function(){function a(){this.cache={},this.total=0}var b=1024;return a.prototype={has:function(a){return a in this.cache},get:function(a){return this.cache[a]},set:function(a,c){this.total<b&&(this.cache[a]=c,this.total++)}},a}(),bb=function(){function a(a){this.stack=a||[]}var b=100;return a.prototype={push:function(a){this.stack.length>=b&&c("PostScript function stack overflow."),this.stack.push(a)},pop:function(){return this.stack.length<=0&&c("PostScript function stack underflow."),this.stack.pop()},copy:function(a){this.stack.length+a>=b&&c("PostScript function stack overflow.");for(var d=this.stack,e=d.length-a,f=a-1;f>=0;f--,e++)d.push(d[e])},index:function(a){this.push(this.stack[this.stack.length-a-1])},roll:function(a,b){var c,d,e,f=this.stack,g=f.length-a,h=f.length-1,i=g+(b-Math.floor(b/a)*a);for(c=g,d=h;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e;for(c=g,d=i-1;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e;for(c=i,d=h;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e}},a}(),cb=function(){function a(a,b){this.operators=a,this.operands=b}return a.prototype={execute:function(a){for(var b,d,e,f=new bb(a),g=0,h=this.operators,i=h.length;i>g;)if(b=h[g++],"number"!=typeof b)switch(b){case"jz":e=f.pop(),d=f.pop(),d||(g=e);break;case"j":d=f.pop(),g=d;break;case"abs":d=f.pop(),f.push(Math.abs(d));break;case"add":e=f.pop(),d=f.pop(),f.push(d+e);break;case"and":e=f.pop(),d=f.pop(),m(d)&&m(e)?f.push(d&&e):f.push(d&e);break;case"atan":d=f.pop(),f.push(Math.atan(d));break;case"bitshift":e=f.pop(),d=f.pop(),d>0?f.push(d<<e):f.push(d>>e);break;case"ceiling":d=f.pop(),f.push(Math.ceil(d));break;case"copy":d=f.pop(),f.copy(d);break;case"cos":d=f.pop(),f.push(Math.cos(d));break;case"cvi":d=0|f.pop(),f.push(d);break;case"cvr":break;case"div":e=f.pop(),d=f.pop(),f.push(d/e);break;case"dup":f.copy(1);break;case"eq":e=f.pop(),d=f.pop(),f.push(d==e);break;case"exch":f.roll(2,1);break;case"exp":e=f.pop(),d=f.pop(),f.push(Math.pow(d,e));break;case"false":f.push(!1);break;case"floor":d=f.pop(),f.push(Math.floor(d));break;case"ge":e=f.pop(),d=f.pop(),f.push(d>=e);break;case"gt":e=f.pop(),d=f.pop(),f.push(d>e);break;case"idiv":e=f.pop(),d=f.pop(),f.push(0|d/e);break;case"index":d=f.pop(),f.index(d);break;case"le":e=f.pop(),d=f.pop(),f.push(e>=d);break;case"ln":d=f.pop(),f.push(Math.log(d));break;case"log":d=f.pop(),f.push(Math.log(d)/Math.LN10);break;case"lt":e=f.pop(),d=f.pop(),f.push(e>d);break;case"mod":e=f.pop(),d=f.pop(),f.push(d%e);break;case"mul":e=f.pop(),d=f.pop(),f.push(d*e);break;case"ne":e=f.pop(),d=f.pop(),f.push(d!=e);break;case"neg":d=f.pop(),f.push(-e);break;case"not":d=f.pop(),m(d)&&m(e)?f.push(d&&e):f.push(d&e);break;case"or":e=f.pop(),d=f.pop(),m(d)&&m(e)?f.push(d||e):f.push(d|e);break;case"pop":f.pop();break;case"roll":e=f.pop(),d=f.pop(),f.roll(d,e);break;case"round":d=f.pop(),f.push(Math.round(d));break;case"sin":d=f.pop(),f.push(Math.sin(d));break;case"sqrt":d=f.pop(),f.push(Math.sqrt(d));break;case"sub":e=f.pop(),d=f.pop(),f.push(d-e);break;case"true":f.push(!0);break;case"truncate":d=f.pop(),d=0>d?Math.ceil(d):Math.floor(d),f.push(d);break;case"xor":e=f.pop(),d=f.pop(),m(d)&&m(e)?f.push(d!=e):f.push(d^e);break;default:c("Unknown operator "+b)}else f.push(b);return f.stack}},a}(),db=function(){function a(a){this.lexer=a,this.operators=[],this.token=null,this.prev=null}return a.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(a){return this.token.type==a?(this.nextToken(),!0):!1},expect:function(a){return this.accept(a)?!0:(c("Unexpected symbol: found "+this.token.type+" expected "+a+"."),void 0)},parse:function(){return this.nextToken(),this.expect(eb.LBRACE),this.parseBlock(),this.expect(eb.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept(eb.NUMBER))this.operators.push(this.prev.value);else if(this.accept(eb.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(eb.LBRACE))return;this.parseCondition()}},parseCondition:function(){var a=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(eb.RBRACE),this.accept(eb.IF))this.operators[a]=this.operators.length,this.operators[a+1]="jz";else if(this.accept(eb.LBRACE)){var b=this.operators.length;this.operators.push(null,null);var d=this.operators.length;this.parseBlock(),this.expect(eb.RBRACE),this.expect(eb.IFELSE),this.operators[b]=this.operators.length,this.operators[b+1]="j",this.operators[a]=d,this.operators[a+1]="jz"}else c("PS Function: error parsing conditional.")}},a}(),eb={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},fb=function(){function a(a,b){this.type=a,this.value=b}var b={};return a.getOperator=function(c){var d=b[c];return d?d:b[c]=new a(eb.OPERATOR,c)},a.LBRACE=new a(eb.LBRACE,"{"),a.RBRACE=new a(eb.RBRACE,"}"),a.IF=new a(eb.IF,"IF"),a.IFELSE=new a(eb.IFELSE,"IFELSE"),a}(),gb=function(){function a(a){this.stream=a,this.nextChar()}return a.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var a=!1,b=this.currentChar;;){if(0>b)return EOF;if(a)(10===b||13===b)&&(a=!1);else if(37==b)a=!0;else if(!Lexer.isSpace(b))break;b=this.nextChar()}switch(0|b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new fb(eb.NUMBER,this.getNumber());case 123:return this.nextChar(),fb.LBRACE;case 125:return this.nextChar(),fb.RBRACE}for(var c=String.fromCharCode(b);(b=this.nextChar())>=0&&(b>=65&&90>=b||b>=97&&122>=b);)c+=String.fromCharCode(b);switch(c.toLowerCase()){case"if":return fb.IF;case"ifelse":return fb.IFELSE;default:return fb.getOperator(c)}},getNumber:function(){for(var a=this.currentChar,b=String.fromCharCode(a);(a=this.nextChar())>=0&&(a>=48&&57>=a||45===a||46===a);)b+=String.fromCharCode(a);var d=parseFloat(b);return isNaN(d)&&c("Invalid floating point number: "+d),d}},a}(),hb=function(){function a(a,b,c){var d=L.getAxialAlignedBoundingBox(b,c),e=d[0],f=d[1],g=d[2],h=d[3];if(e===g||f===h)return[1,0,0,1,a[0],a[1]];var i=(a[2]-a[0])/(g-e),j=(a[3]-a[1])/(h-f);return[i,0,0,j,a[0]-e*i,a[1]-f*j]}function b(a){var b=a.get("AP");if(q(b)){var c,d=b.get("N");if(q(d)){var e=a.get("AS");e&&d.has(e.name)&&(c=d.get(e.name))}else c=d;return c}}function c(a){if(a.data)return this.data=a.data,void 0;var c=a.dict,d=this.data={};d.subtype=c.get("Subtype").name;var e=c.get("Rect");d.rect=L.normalizeRect(e),d.annotationFlags=c.get("F");var f=c.get("C");if(d.color=r(f)&&3===f.length?f:[0,0,0],c.has("BS")){var g=c.get("BS");d.borderWidth=g.has("W")?g.get("W"):1}else{var h=c.get("Border")||[0,0,1];d.borderWidth=h[2]||0}this.appearance=b(c),d.hasAppearance=!!this.appearance}return c.prototype={getData:function(){return this.data},hasHtml:function(){return!1},getHtmlElement:function(){throw new J("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(a,b){f(!B,"getEmptyContainer() should be called from main thread"),b=b||this.data.rect;var c=document.createElement(a);return c.style.width=Math.ceil(b[2]-b[0])+"px",c.style.height=Math.ceil(b[3]-b[1])+"px",c},isViewable:function(){var a=this.data;return!(!a||a.annotationFlags&&34&a.annotationFlags||!a.rect)},loadResources:function(a){var b=new N;return this.appearance.dict.getAsync("Resources").then(function(c){if(!c)return b.resolve(),void 0;var d=new ObjectLoader(c.map,a,c.xref);d.load().then(function(){b.resolve(c)})}.bind(this)),b},getOperatorList:function(b){var c=new N;if(!this.appearance)return c.resolve(new OperatorList),c;var d=this.data,e=this.appearance.dict,f=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),g=e.get("BBox")||[0,0,1,1],h=e.get("Matrix")||[1,0,0,1,0,0],i=a(d.rect,g,h);return d.border,f.then(function(a){var e=new OperatorList;e.addOp("beginAnnotation",[d.rect,i,h]),b.getOperatorList(this.appearance,a,e),e.addOp("endAnnotation",[]),c.resolve(e)}.bind(this)),c}},c.getConstructor=function(a,b){if(a){if("Link"===a)return lb;if("Text"===a)return kb;if("Widget"===a){if(!b)return;return"Tx"===b?jb:ib}return c}},c.fromData=function(a){var b=a.subtype,d=a.fieldType,e=c.getConstructor(b,d);return e?new e({data:a}):void 0},c.fromRef=function(a,b){var e=a.fetchIfRef(b);if(q(e)){var f=e.get("Subtype");if(f=p(f)?f.name:""){var g=L.getInheritableProperty(e,"FT");g=p(g)?g.name:"";var h=c.getConstructor(f,g);if(h){var i={dict:e,ref:b},j=new h(i);return j.isViewable()?j:(d("unimplemented annotation type: "+f),void 0)}}}},c.appendToOperatorList=function(a,b,c,d){function e(a){f.reject(a)}for(var f=new N,g=[],h=0,i=a.length;i>h;++h)g.push(a[h].getOperatorList(d));return N.all(g).then(function(a){b.addOp("beginAnnotations",[]);for(var c=0,d=a.length;d>c;++c){var e=a[c];b.addOpList(e)}b.addOp("endAnnotations",[]),f.resolve()},e),f},c}();PDFJS.Annotation=hb;var ib=function(){function a(a){if(hb.call(this,a),!a.data){var b=a.dict,c=this.data;c.fieldValue=l(L.getInheritableProperty(b,"V")||""),c.alternativeText=l(b.get("TU")||""),c.defaultAppearance=L.getInheritableProperty(b,"DA")||"";var d=L.getInheritableProperty(b,"FT");c.fieldType=p(d)?d.name:"",c.fieldFlags=L.getInheritableProperty(b,"Ff")||0,this.fieldResources=L.getInheritableProperty(b,"DR")||new Dict;for(var e=[],f=b,g=a.ref;f;){var h=f.get("Parent"),i=f.getRaw("Parent"),j=f.get("T");if(j)e.unshift(l(j));else{var k,m,n=h.get("Kids");for(k=0,m=n.length;m>k;k++){var o=n[k];if(o.num==g.num&&o.gen==g.gen)break}e.unshift("`"+k)}f=h,g=i}c.fullName=e.join(".")}}var b=hb.prototype;return L.inherit(a,hb,{isViewable:function(){return"Sig"===this.data.fieldType?(d("unimplemented annotation type: Widget signature"),!1):b.isViewable.call(this)}}),a}(),jb=function(){function a(a){ib.call(this,a),a.data||(this.data.textAlignment=L.getInheritableProperty(a.dict,"Q"))}function b(a,b,c){var d=a.style;if(d.fontSize=b.fontSize+"px",d.direction=b.fontDirection<0?"rtl":"ltr",c){d.fontWeight=c.black?c.bold?"bolder":"bold":c.bold?"bold":"normal",d.fontStyle=c.italic?"italic":"normal";var e=c.loadedName,f=e?'"'+e+'", ':"",g=c.fallbackName||"Helvetica, sans-serif";d.fontFamily=f+g}}return ib.prototype,L.inherit(a,ib,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(a){f(!B,"getHtmlElement() shall be called from main thread");var c=this.data,d=this.getEmptyContainer("div");d.style.display="table";var e=document.createElement("div");e.textContent=c.fieldValue;var g=c.textAlignment;e.style.textAlign=["left","center","right"][g],e.style.verticalAlign="middle",e.style.display="table-cell";var h=c.fontRefName?a.getData(c.fontRefName):null;return b(e,c,h),d.appendChild(e),d},getOperatorList:function(a){if(this.appearance)return hb.prototype.getOperatorList.call(this,a);var b=new N,c=new OperatorList,d=this.data,e=d.defaultAppearance;if(!e)return b.resolve(c),b;var f=new Stream(k(e));a.getOperatorList(f,this.fieldResources,c);var g=c.fnArray,h=c.argsArray,i=[];d.rgb=[0,0,0];for(var j=0,l=i.length;l>j;++j){var m=g[j],n=h[j];if("setFont"===m){d.fontRefName=n[0];var o=n[1];0>o?(d.fontDirection=-1,d.fontSize=-o):(d.fontDirection=1,d.fontSize=o)}else if("setFillRGBColor"===m)d.rgb=n;else if("setFillGray"===m){var p=255*n[0];d.rgb=[p,p,p]}}return b.resolve(c),b}}),a}(),kb=function(){function a(a){if(hb.call(this,a),!a.data){var b=a.dict,c=this.data,d=b.get("Contents"),e=b.get("T");c.content=l(d||""),c.title=l(e||""),c.name=b.has("Name")?b.get("Name").name:"Note"}}var b=10;return L.inherit(a,hb,{getOperatorList:function(){var a=new N;return a.resolve(new OperatorList),a},hasHtml:function(){return!0},getHtmlElement:function(){f(!B,"getHtmlElement() shall be called from main thread");var a=this.data,c=a.rect;c[3]-c[1]<b&&(c[3]=c[1]+b),c[2]-c[0]<b&&(c[2]=c[0]+(c[3]-c[1]));var d=this.getEmptyContainer("section",c);d.className="annotText";var e=document.createElement("img");e.style.height=d.style.height;var g=a.name;e.src=PDFJS.imageResourcesPath+"annotation-"+g.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:g});var h=document.createElement("div");h.setAttribute("hidden",!0);var i=document.createElement("h1"),j=document.createElement("p");if(h.style.left=Math.floor(c[2]-c[0])+"px",h.style.top="0px",i.textContent=a.title,a.content||a.title){for(var k=document.createElement("span"),l=a.content.split(/(?:\r\n?|\n)/),m=0,n=l.length;n>m;++m){var o=l[m];k.appendChild(document.createTextNode(o)),n-1>m&&k.appendChild(document.createElement("br"))}j.appendChild(k);var p=function(){d.style.zIndex+=1,h.removeAttribute("hidden")},q=function(a){(a.toElement||a.relatedTarget)&&(d.style.zIndex-=1,h.setAttribute("hidden",!0))};h.addEventListener("mouseover",p,!1),h.addEventListener("mouseout",q,!1),e.addEventListener("mouseover",p,!1),e.addEventListener("mouseout",q,!1)}else h.setAttribute("hidden",!0);return h.appendChild(i),h.appendChild(j),d.appendChild(e),d.appendChild(h),d}}),a}(),lb=function(){function a(a){if(hb.call(this,a),!a.data){var b=a.dict,c=this.data,e=b.get("A");if(e){var f=e.get("S").name;if("URI"===f){var g=e.get("URI");h(g,!1)||(g=""),c.url=g}else if("GoTo"===f)c.dest=e.get("D");else if("GoToR"===f){var i=e.get("F");q(i)&&(g=i.get("F")||""),h(g,!1)||(g=""),c.url=g,c.dest=e.get("D")}else"Named"===f?c.action=e.get("N").name:d("unrecognized link type: "+f)}else if(b.has("Dest")){var j=b.get("Dest");c.dest=p(j)?j.name:j}}}return L.inherit(a,hb,{hasOperatorList:function(){return!1},hasHtml:function(){return!0},getHtmlElement:function(){var a=this.data.rect,b=document.createElement("a"),c=this.data.borderWidth;b.style.borderWidth=c+"px";for(var d=this.data.color,e=[],f=0;3>f;++f)e[f]=Math.round(255*d[f]);b.style.borderColor=L.makeCssRgb(e),b.style.borderStyle="solid";var g=a[2]-a[0]-2*c,h=a[3]-a[1]-2*c;return b.style.width=g+"px",b.style.height=h+"px",b.href=this.data.url||"",b}}),a}();PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace,PDFJS.getDocument=function(a,b,d,e){var f,h,i;"string"==typeof a?a={url:a}:t(a)?a={data:a}:"object"!=typeof a&&c("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),a.url||a.data||c("Invalid parameter array, need either .data or .url");var j={};for(var k in a)j[k]="url"!==k||"undefined"==typeof window?a[k]:g(window.location.href,a[k]);return f=new PDFJS.Promise,h=new PDFJS.Promise,i=new ob(f,h,b,e),f.then(function(){i.passwordCallback=d,i.fetchDocument(j)}),h};var mb=function(){function a(a,b){this.pdfInfo=a,this.transport=b}return a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},get embeddedFontsUsed(){return this.transport.embeddedFontsUsed},getPage:function(a){return this.transport.getPage(a)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var a=new PDFJS.Promise,b=this.pdfInfo.javaScript;return a.resolve(b),a},getOutline:function(){var a=new PDFJS.Promise,b=this.pdfInfo.outline;return a.resolve(b),a},getMetadata:function(){var a=new PDFJS.Promise,b=this.pdfInfo.info,c=this.pdfInfo.metadata;return a.resolve({info:b,metadata:c?new PDFJS.Metadata(c):null}),a},isEncrypted:function(){var a=new PDFJS.Promise;return a.resolve(this.pdfInfo.encrypted),a},getData:function(){var a=new PDFJS.Promise;return this.transport.getData(a),a},dataLoaded:function(){return this.transport.dataLoaded()},destroy:function(){this.transport.destroy()}},a}(),nb=function(){function a(a,b){this.pageInfo=a,this.transport=b,this.stats=new O,this.stats.enabled=!!A.PDFJS.enableStats,this.commonObjs=b.commonObjs,this.objs=new pb,this.receivingOperatorList=!1,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.renderTasks=[]}return a.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){return arguments.length<2&&(b=this.rotate),new PDFJS.PageViewport(this.view,a,b,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var a=new PDFJS.Promise;return this.annotationsPromise=a,this.transport.getAnnotations(this.pageInfo.pageIndex),a},render:function(a){function b(a){var b=f.renderTasks.indexOf(d);b>=0&&f.renderTasks.splice(b,1),f.cleanupAfterRender&&(f.pendingDestroy=!0),f._tryDestroy(),a?e.reject(a):e.resolve(),c.timeEnd("Rendering"),c.timeEnd("Overall")}var c=this.stats;c.time("Overall"),this.pendingDestroy=!1,this.displayReadyPromise||(this.receivingOperatorList=!0,this.displayReadyPromise=new N,this.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1}));var d=new rb(b,a,this.objs,this.commonObjs,this.operatorList,this.pageNumber);this.renderTasks.push(d);var e=new qb(d),f=this;return this.displayReadyPromise.then(function(a){return f.pendingDestroy?(b(),void 0):(c.time("Rendering"),d.initalizeGraphics(a),d.operatorListChanged(),void 0)},function(a){b(a)}),e},getTextContent:function(){var a=new PDFJS.Promise;return this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(b){a.resolve(b)}),a},getOperationList:function(){var a=new PDFJS.Promise,b={dependencyFontsID:null,operatorList:null};return a.resolve(b),a},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&0===this.renderTasks.length&&!this.receivingOperatorList&&(delete this.operatorList,delete this.displayReadyPromise,this.objs.clear(),this.pendingDestroy=!1)},_startRenderPage:function(a){this.displayReadyPromise.resolve(a)},_renderPageChunk:function(a){L.concatenateToArray(this.operatorList.fnArray,a.fnArray),L.concatenateToArray(this.operatorList.argsArray,a.argsArray),this.operatorList.lastChunk=a.lastChunk;for(var b=0;b<this.renderTasks.length;b++)this.renderTasks[b].operatorListChanged();a.lastChunk&&(this.receivingOperatorList=!1,this._tryDestroy())}},a}(),ob=function(){function d(b,d,e,f){if(this.pdfDataRangeTransport=e,this.workerReadyPromise=d,this.progressCallback=f,this.commonObjs=new pb,this.pageCache=[],this.pagePromises=[],this.embeddedFontsUsed=!1,this.passwordCallback=null,!A.PDFJS.disableWorker&&"undefined"!=typeof Worker){var g=PDFJS.workerSrc;"undefined"==typeof g&&c("No PDFJS.workerSrc specified");try{var h=new Worker(g),i=new v("main",h);this.messageHandler=i,i.on("test",function(a){a?(this.worker=h,this.setupMessageHandler(i)):(A.PDFJS.disableWorker=!0,this.setupFakeWorker()),b.resolve()}.bind(this));var j=new Uint8Array(1);return i.send("test",j),void 0}catch(k){a("The worker has been disabled.")}}A.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),b.resolve()}.bind(this))}return d.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var a=this;this.messageHandler.send("Terminate",null,function(){a.worker&&a.worker.terminate()})},loadFakeWorkerFiles:function(){return PDFJS.fakeWorkerFilesLoadedPromise||(PDFJS.fakeWorkerFilesLoadedPromise=new N,L.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})),PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){b("Setting up fake worker.");var a={postMessage:function(b){a.onmessage({data:b})},terminate:function(){}},c=new v("main",a);this.setupMessageHandler(c),PDFJS.WorkerMessageHandler.setup(c)},setupMessageHandler:function(a){function d(b){a.send("UpdatePassword",b)}this.messageHandler=a;var e=this.pdfDataRangeTransport;e&&(e.addRangeListener(function(b,c){a.send("OnDataRange",{begin:b,chunk:c})}),e.addProgressListener(function(b){a.send("OnDataProgress",{loaded:b})}),a.on("RequestDataRange",function(a){e.requestDataRange(a.begin,a.end)},this)),a.on("GetDoc",function(a){var b=a.pdfInfo,c=new mb(b,this);this.pdfDocument=c,this.workerReadyPromise.resolve(c)},this),a.on("NeedPassword",function(a){return this.passwordCallback?this.passwordCallback(d,I.NEED_PASSWORD):(this.workerReadyPromise.reject(a.exception.message,a.exception),void 0)},this),a.on("IncorrectPassword",function(a){return this.passwordCallback?this.passwordCallback(d,I.INCORRECT_PASSWORD):(this.workerReadyPromise.reject(a.exception.message,a.exception),void 0)},this),a.on("InvalidPDF",function(a){this.workerReadyPromise.reject(a.exception.name,a.exception)},this),a.on("MissingPDF",function(a){this.workerReadyPromise.reject(a.exception.message,a.exception)},this),a.on("UnknownError",function(a){this.workerReadyPromise.reject(a.exception.message,a.exception)},this),a.on("GetPage",function(a){var b=a.pageInfo,c=new nb(b,this);this.pageCache[b.pageIndex]=c;var d=this.pagePromises[b.pageIndex];d.resolve(c)},this),a.on("GetAnnotations",function(a){var b=a.annotations,c=this.pageCache[a.pageIndex].annotationsPromise;c.resolve(b)},this),a.on("StartRenderPage",function(a){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request"),b._startRenderPage(a.transparency)},this),a.on("RenderPageChunk",function(a){var b=this.pageCache[a.pageIndex];b._renderPageChunk(a.operatorList)},this),a.on("commonobj",function(a){var c=a[0],d=a[1];if(!this.commonObjs.hasData(c))switch(d){case"Font":var e,f=a[2];if("error"in f){var g=f.error;b("Error during font loading: "+g),this.commonObjs.resolve(c,g);break}e=new yb(f),xb.bind([e],function(){this.commonObjs.resolve(c,e)}.bind(this));break;case"FontPath":this.commonObjs.resolve(c,a[2]);break;default:g("Got unknown common object type "+d)}},this),a.on("obj",function(a){var b=a[0],d=a[1],e=a[2],f=this.pageCache[d];if(!f.objs.hasData(b))switch(e){case"JpegStream":var g=a[3];w(b,g,f.objs);break;case"Image":var g=a[3];f.objs.resolve(b,g);var h=8e6;"data"in g&&g.data.length>h&&(f.cleanupAfterRender=!0);break;default:c("Got unknown object type "+e)}},this),a.on("DocProgress",function(a){this.progressCallback&&this.progressCallback({loaded:a.loaded,total:a.total})},this),a.on("DocError",function(a){this.workerReadyPromise.reject(a)},this),a.on("PageError",function(a){var b=this.pageCache[a.pageNum-1];b.displayReadyPromise?b.displayReadyPromise.reject(a.error):c(a.error)},this),a.on("JpegDecode",function(a,b){var d=a[0],e=a[1];3!=e&&1!=e&&c("Only 3 component or 1 component can be returned");var f=new Image;f.onload=function(){var a=f.width,c=f.height,d=a*c,g=4*d,h=new Uint8Array(d*e),i=x(a,c),j=i.getContext("2d");j.drawImage(f,0,0);var k=j.getImageData(0,0,a,c).data;if(3==e)for(var l=0,m=0;g>l;l+=4,m+=3)h[m]=k[l],h[m+1]=k[l+1],h[m+2]=k[l+2];else if(1==e)for(var l=0,m=0;g>l;l+=4,m++)h[m]=k[l];b.resolve({data:h,width:a,height:c})}.bind(this);var g="data:image/jpeg;base64,"+window.btoa(d);f.src=g})},fetchDocument:function(a){a.disableAutoFetch=PDFJS.disableAutoFetch,a.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:a,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,disableFontFace:PDFJS.disableFontFace})},getData:function(a){this.messageHandler.send("GetData",null,function(b){a.resolve(b)})},dataLoaded:function(){var a=new PDFJS.Promise;return this.messageHandler.send("DataLoaded",null,function(b){a.resolve(b)}),a},getPage:function(a,b){var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];var b=new PDFJS.Promise("Page "+a);return this.pagePromises[c]=b,this.messageHandler.send("GetPageRequest",{pageIndex:c}),b},getAnnotations:function(a){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:a})},getDestinations:function(){var a=new PDFJS.Promise;return this.messageHandler.send("GetDestinations",null,function(b){a.resolve(b)}),a}},d}(),pb=function(){function a(){this.objs={}}return a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={promise:new N(a),data:null,resolved:!1};return this.objs[a]=b,b},get:function(a,b){if(b)return this.ensureObj(a).promise.then(b),null;var d=this.objs[a];return d&&d.resolved||c("Requesting object that isn't resolved yet "+a),d.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0,c.data=b,c.promise.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs={}}},a}(),qb=function(){function a(a){this.internalRenderTask=a,N.call(this)}return a.prototype=Object.create(N.prototype),a.prototype.cancel=function(){this.internalRenderTask.cancel()},a}(),rb=function(){function a(a,b,c,d,e,f){this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=e,this.pageNumber=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1}return a.prototype={initalizeGraphics:function(a){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in A&&A.StepperManager.enabled&&(this.stepper=A.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params;this.gfx=new wb(b.canvasContext,this.commonObjs,this.objs,b.textLayer,b.imageLayer),this.gfx.beginDrawing(b.viewport,a),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue(),void 0):(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continue.bind(this)),void 0)},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._next.bind(this)):this._next())},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper),this.operatorListIdx===this.operatorList.fnArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},a}();PDFJS.Metadata=function(){function a(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="",e=0;e<c.length;e+=2){var f=256*c.charCodeAt(e)+c.charCodeAt(e+1);d+="&#x"+(65536+f).toString(16).substring(1)+";"}return">"+d})}function b(b){if("string"==typeof b){b=a(b);var d=new DOMParser;b=d.parseFromString(b,"application/xml")}else b instanceof Document||c("Metadata: Invalid metadata object");this.metaDocument=b,this.metadata={},this.parse()}return b.prototype={parse:function(){var a=this.metaDocument,b=a.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;var c=b?b.nodeName.toLowerCase():null;if(b&&"rdf:rdf"===c&&b.hasChildNodes()){var d,e,f,g,h,i,j,k=b.childNodes;for(g=0,i=k.length;i>g;g++)if(d=k[g],"rdf:description"===d.nodeName.toLowerCase())for(h=0,j=d.childNodes.length;j>h;h++)"#text"!==d.childNodes[h].nodeName.toLowerCase()&&(e=d.childNodes[h],f=e.nodeName.toLowerCase(),this.metadata[f]=e.textContent.trim())}},get:function(a){return this.metadata[a]||null},has:function(a){return"undefined"!=typeof this.metadata[a]}},b}();var sb=16,tb=!0,ub=function(){var a={};return{getCanvas:function(b,c,d,e){var f;if(b in a)f=a[b],f.canvas.width=c,f.canvas.height=d,f.context.setTransform(1,0,0,1,0,0);else{var g=x(c,d),h=g.getContext("2d");e&&y(h),a[b]=f={canvas:g,context:h}}return f},clear:function(){a={}}}}(),vb=function(){function a(a){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=K,this.fontMatrix=F,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=G.FILL,this.textRise=0,this.fillColorSpace=P.singletons.gray,this.fillColorSpaceObj=null,this.strokeColorSpace=P.singletons.gray,this.strokeColorSpaceObj=null,this.fillColorObj=null,this.strokeColorObj=null,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.paintFormXObjectDepth=0,this.old=a}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}(),wb=function(){function e(a,b,c,d,e){this.ctx=a,this.current=new vb,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.textLayer=d,this.imageLayer=e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,a&&y(a)}function g(a,b){if("undefined"!=typeof ImageData&&b instanceof ImageData)return a.putImageData(b,0,0),void 0;var c=a.createImageData(b.width,b.height),d=b.data,e=c.data;if("set"in e)e.set(d);else for(var f=0,g=e.length;g>f;f++)e[f]=d[f];a.putImageData(c,0,0)}function h(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;e>d;d++){var f=c[d];f in a&&(b[f]=a[f])}"setLineDash"in a?(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset):"mozDash"in a&&(b.mozDash=a.mozDash,b.mozDashOffset=a.mozDashOffset)}var i=15,j=["butt","round","square"],k=["miter","round","bevel"],l={},m={};return e.prototype={slowCommands:{stroke:!0,closeStroke:!0,fill:!0,eoFill:!0,fillStroke:!0,eoFillStroke:!0,closeFillStroke:!0,closeEOFillStroke:!0,showText:!0,showSpacedText:!0,setStrokeColorSpace:!0,setFillColorSpace:!0,setStrokeColor:!0,setStrokeColorN:!0,setFillColor:!0,setFillColorN:!0,setStrokeGray:!0,setFillGray:!0,setStrokeRGBColor:!0,setFillRGBColor:!0,setStrokeCMYKColor:!0,setFillCMYKColor:!0,paintJpegXObject:!0,paintImageXObject:!0,paintInlineImageXObject:!0,paintInlineImageXObjectGroup:!0,paintImageMaskXObject:!0,paintImageMaskXObjectGroup:!0,shadingFill:!0},beginDrawing:function(a,b){var c=this.ctx.canvas.width,d=this.ctx.canvas.height;
b?this.ctx.clearRect(0,0,c,d):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,c,d),this.ctx.restore());var e=a.transform;this.baseTransform=e.slice(),this.ctx.save(),this.ctx.transform.apply(this.ctx,e),this.textLayer&&this.textLayer.beginLayout(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray,f=a.fnArray,g=b||0,h=e.length;if(h==g)return g;for(var j,k=Date.now()+i,l=this.commonObjs,m=this.objs,n=this.slowCommands;;){if(d&&g===d.nextBreakPoint)return d.breakIt(g,c),g;if(j=f[g],"dependency"!==j)this[j].apply(this,e[g]);else for(var o=e[g],p=0,q=o.length;q>p;p++){var r=o[p],s="g_"==r.substring(0,2);if(!s&&!m.isResolved(r))return m.get(r,c),g;if(s&&!l.isResolved(r))return l.get(r,c),g}if(g++,g==h)return g;if(c&&n[j]&&Date.now()>k)return setTimeout(c,0),g}},endDrawing:function(){this.ctx.restore(),ub.clear(),this.textLayer&&this.textLayer.endLayout(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=j[a]},setLineJoin:function(a){this.ctx.lineJoin=k[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;"setLineDash"in c?(c.setLineDash(a),c.lineDashOffset=b):(c.mozDash=a,c.mozDashOffset=b)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,d=a.length;d>c;c++){var e=a[c],f=e[0],g=e[1];switch(f){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=e[1];break;case"ca":this.current.fillAlpha=e[1],this.ctx.globalAlpha=e[1];break;case"BM":if(g&&g.name&&"Normal"!==g.name){var h=g.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=h,this.ctx.globalCompositeOperation!==h&&b('globalCompositeOperation "'+h+'" is not supported')}else this.ctx.globalCompositeOperation="source-over"}}},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone()},restore:function(){var a=this.stateStack.pop();a&&(this.current=a,this.ctx.restore())},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f)},moveTo:function(a,b){this.ctx.moveTo(a,b),this.current.setCurrentPoint(a,b)},lineTo:function(a,b){this.ctx.lineTo(a,b),this.current.setCurrentPoint(a,b)},curveTo:function(a,b,c,d,e,f){this.ctx.bezierCurveTo(a,b,c,d,e,f),this.current.setCurrentPoint(e,f)},curveTo2:function(a,b,c,d){var e=this.current;this.ctx.bezierCurveTo(e.x,e.y,a,b,c,d),e.setCurrentPoint(c,d)},curveTo3:function(a,b,c,d){this.curveTo(a,b,c,d,c,d),this.current.setCurrentPoint(c,d)},closePath:function(){this.ctx.closePath()},rectangle:function(a,b,c,d){this.ctx.rect(a,b,c,d)},stroke:function(a){a="undefined"!=typeof a?a:!0;var b=this.ctx,c=this.current.strokeColor;0===this.current.lineWidth&&(b.lineWidth=this.getSinglePixelWidth()),b.globalAlpha=this.current.strokeAlpha,c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke(),a&&this.consumePath(),b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){a="undefined"!=typeof a?a:!0;var b=this.ctx,c=this.current.fillColor,d=!1;if(c&&c.hasOwnProperty("type")&&"Pattern"===c.type&&(b.save(),b.fillStyle=c.getPattern(b,this),d=!0),this.pendingEOFill){if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.fill(),this.ctx.mozFillRule="nonzero";else try{this.ctx.fill("evenodd")}catch(e){this.ctx.fill()}this.pendingEOFill=!1}else this.ctx.fill();d&&b.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=l},eoClip:function(){this.pendingClip=m},beginText:function(){this.current.textMatrix=K,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this))return this.ctx.beginPath(),void 0;var a=this.pendingTextPaths,b=this.ctx;b.save(),b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,d){var e=this.commonObjs.get(a),f=this.current;if(e||c("Can't find font for "+a),f.fontMatrix=e.fontMatrix?e.fontMatrix:F,(0===f.fontMatrix[0]||0===f.fontMatrix[3])&&b("Invalid font matrix for font "+a),0>d?(d=-d,f.fontDirection=-1):f.fontDirection=1,this.current.font=e,this.current.fontSize=d,!e.coded){var g=e.loadedName||"sans-serif",h=e.black?e.bold?"bolder":"bold":e.bold?"bold":"normal",i=e.italic?"italic":"normal",j='"'+g+'", '+e.fallbackName,k=d>=sb?d:sb;this.current.fontSizeScale=k!=sb?1:d/sb;var l=i+" "+h+" "+k+"px "+j;this.ctx.font=l}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var a=this.ctx,b=this.current;a.transform.apply(a,b.textMatrix),a.translate(b.x,b.y+b.textRise),b.fontDirection>0?a.scale(b.textHScale,-1):a.scale(-b.textHScale,1)},createTextGeometry:function(){var a={},b=this.ctx,c=this.current.font,d=b.mozCurrentTransform,e=d[0],f=d[1],g=d[2],h=d[3],i=d[4],j=d[5],k=e>=0?Math.sqrt(e*e+f*f):-Math.sqrt(e*e+f*f),l=h>=0?Math.sqrt(g*g+h*h):-Math.sqrt(g*g+h*h),m=Math.atan2(f,e),n=i,o=j;return a.x=n,a.y=o,a.hScale=k,a.vScale=l,a.angle=m,a.spaceWidth=c.spaceWidth,a.fontName=c.loadedName,a.fontFamily=c.fallbackName,a.fontSize=this.current.fontSize,a},paintChar:function(a,b,c){var d,e=this.ctx,f=this.current,g=f.font,h=f.fontSize/f.fontSizeScale,i=f.textRenderingMode,j=i&G.FILL_STROKE_MASK,k=!!(i&G.ADD_TO_PATH_FLAG);if((g.disableFontFace||k)&&(d=g.getPathGenerator(this.commonObjs,a)),g.disableFontFace?(e.save(),e.translate(b,c),e.beginPath(),d(e,h),(j===G.FILL||j===G.FILL_STROKE)&&e.fill(),(j===G.STROKE||j===G.FILL_STROKE)&&e.stroke(),e.restore()):((j===G.FILL||j===G.FILL_STROKE)&&e.fillText(a,b,c),(j===G.STROKE||j===G.FILL_STROKE)&&e.strokeText(a,b,c)),k){var l=this.pendingTextPaths||(this.pendingTextPaths=[]);l.push({transform:e.mozCurrentTransform,x:b,y:c,fontSize:h,addToPath:d})}},showText:function(a,b){var c,d=this.ctx,e=this.current,f=e.font,g=e.fontSize,h=e.fontSizeScale,i=e.charSpacing,j=e.wordSpacing,k=e.textHScale*e.fontDirection,l=e.fontMatrix||F,m=a.length,n=this.textLayer,o=n&&!b?!0:!1,p=0,q=f.vertical,r=f.defaultVMetrics;if(f.coded){d.save(),d.transform.apply(d,e.textMatrix),d.translate(e.x,e.y),d.scale(k,1),o&&(this.save(),d.scale(1,-1),c=this.createTextGeometry(),this.restore());for(var s=0;m>s;++s){var t=a[s];if(null!==t){this.processingType3=t,this.save(),d.scale(g,g),d.transform.apply(d,l),this.executeOperatorList(t.operatorList),this.restore();var u=L.applyTransform([t.width,0],l),v=(u[0]*g+i)*e.fontDirection;d.translate(v,0),e.x+=v*k,p+=v}else this.ctx.translate(j,0),e.x+=j*k}d.restore(),this.processingType3=null}else{d.save(),this.applyTextTransforms();var w=e.lineWidth,x=e.textMatrix[0],y=e.textMatrix[1],z=Math.sqrt(x*x+y*y);0===z||0===w?w=this.getSinglePixelWidth():w/=z,o&&(c=this.createTextGeometry()),1!=h&&(d.scale(h,h),w/=h),d.lineWidth=w;for(var A=0,s=0;m>s;++s){var t=a[s];if(null!==t){var B=!1,C=t.fontChar,D=t.vmetric||r;if(q){var E=t.vmetric?D[1]:.5*t.width;E=-E*g*e.fontMatrix[0];var G=D[2]*g*e.fontMatrix[0]}var H,I,J,K,v=D?-D[0]:t.width,M=v*g*e.fontMatrix[0]+i*e.fontDirection,N=t.accent;if(!t.disabled){if(q?(H=E/h,I=(A+G)/h):(H=A/h,I=0),f.remeasure&&v>0){var O=1e3*d.measureText(C).width/e.fontSize*e.fontSizeScale,P=v/O;B=!0,d.save(),d.scale(P,1),H/=P,N&&(J/=P)}this.paintChar(C,H,I),N&&(J=H+N.offset.x/h,K=I-N.offset.y/h,this.paintChar(N.fontChar,J,K))}A+=M,p+=M,B&&d.restore()}else A+=e.fontDirection*j}q?e.y-=A*k:e.x+=A*k,d.restore()}if(o){if(c.canvasWidth=p,q){var Q=Math.PI/2;c.angle+=Q}this.textLayer.appendText(c)}return p},showSpacedText:function(a){var b,c=this.ctx,d=this.current,e=d.font,f=d.fontSize,g=.001*d.textHScale*d.fontDirection,h=a.length,i=this.textLayer,j=0,k=i?!0:!1,l=e.vertical,m=0;k&&(c.save(),this.applyTextTransforms(),b=this.createTextGeometry(),c.restore());for(var o=0;h>o;++o){var p=a[o];if(n(p)){var q=-p*f*g;l?d.y+=q:d.x+=q,k&&(m+=q)}else{var r=this.showText(p,!0);k&&(j+=m+r,m=0)}}if(k){if(b.canvasWidth=j,l){var s=Math.PI/2;b.angle+=s}this.textLayer.appendText(b)}},nextLineShowText:function(a){this.nextLine(),this.showText(a)},nextLineSetSpacingShowText:function(a,b,c){this.setWordSpacing(a),this.setCharSpacing(b),this.nextLineShowText(c)},setCharWidth:function(){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.rectangle(c,d,e-c,f-d),this.clip(),this.endPath()},setStrokeColorSpace:function(a){this.current.strokeColorSpace=P.fromIR(a)},setFillColorSpace:function(a){this.current.fillColorSpace=P.fromIR(a)},setStrokeColor:function(){var a=this.current.strokeColorSpace,b=a.getRgb(arguments,0),c=L.makeCssRgb(b);this.ctx.strokeStyle=c,this.current.strokeColor=c},getColorN_Pattern:function(a,b){if("TilingPattern"==a[0]){var d,e=a[1],f=b.base;f&&(f.numComps,d=f.getRgb(e,0));var g=new $(a,d,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else if("RadialAxial"==a[0]||"Dummy"==a[0])var g=Y.shadingFromIR(a);else c("Unkown IR type "+a[0]);return g},setStrokeColorN:function(){var a=this.current.strokeColorSpace;"Pattern"==a.name?this.current.strokeColor=this.getColorN_Pattern(arguments,a):this.setStrokeColor.apply(this,arguments)},setFillColor:function(){var a=this.current.fillColorSpace,b=a.getRgb(arguments,0),c=L.makeCssRgb(b);this.ctx.fillStyle=c,this.current.fillColor=c},setFillColorN:function(){var a=this.current.fillColorSpace;"Pattern"==a.name?this.current.fillColor=this.getColorN_Pattern(arguments,a):this.setFillColor.apply(this,arguments)},setStrokeGray:function(){this.current.strokeColorSpace=P.singletons.gray;var a=this.current.strokeColorSpace.getRgb(arguments,0),b=L.makeCssRgb(a);this.ctx.strokeStyle=b,this.current.strokeColor=b},setFillGray:function(){this.current.fillColorSpace=P.singletons.gray;var a=this.current.fillColorSpace.getRgb(arguments,0),b=L.makeCssRgb(a);this.ctx.fillStyle=b,this.current.fillColor=b},setStrokeRGBColor:function(){this.current.strokeColorSpace=P.singletons.rgb;var a=this.current.strokeColorSpace.getRgb(arguments,0),b=L.makeCssRgb(a);this.ctx.strokeStyle=b,this.current.strokeColor=b},setFillRGBColor:function(){this.current.fillColorSpace=P.singletons.rgb;var a=this.current.fillColorSpace.getRgb(arguments,0),b=L.makeCssRgb(a);this.ctx.fillStyle=b,this.current.fillColor=b},setStrokeCMYKColor:function(){this.current.strokeColorSpace=P.singletons.cmyk;var a=L.makeCssCmyk(arguments);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillCMYKColor:function(){this.current.fillColorSpace=P.singletons.cmyk;var a=L.makeCssCmyk(arguments);this.ctx.fillStyle=a,this.current.fillColor=a},shadingFill:function(a){var b=this.ctx;this.save();var c=Y.shadingFromIR(a);b.fillStyle=c.getPattern(b,this);var d=b.mozCurrentTransformInverse;if(d){var e=b.canvas,f=e.width,g=e.height,h=L.applyTransform([0,0],d),i=L.applyTransform([0,g],d),j=L.applyTransform([f,0],d),k=L.applyTransform([f,g],d),l=Math.min(h[0],i[0],j[0],k[0]),m=Math.min(h[1],i[1],j[1],k[1]),n=Math.max(h[0],i[0],j[0],k[0]),o=Math.max(h[1],i[1],j[1],k[1]);this.ctx.fillRect(l,m,n-l,o-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){c("Should not call beginInlineImage")},beginImageData:function(){c("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){if(this.save(),this.current.paintFormXObjectDepth++,this.baseTransformStack.push(this.baseTransform),a&&r(a)&&6==a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,b&&r(b)&&4==b.length){var c=b[2]-b[0],d=b[3]-b[1];this.rectangle(b[0],b[1],c,d),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){var a=this.current.paintFormXObjectDepth;do this.restore();while(this.current.paintFormXObjectDepth>=a);this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(b){this.save();var c=this.ctx;b.isolated||a("TODO: Support non-isolated groups."),b.knockout&&d("Support knockout groups.");var e=c.mozCurrentTransform;b.matrix&&c.transform.apply(c,b.matrix),f(b.bbox,"Bounding box is required.");var g=L.getAxialAlignedBoundingBox(b.bbox,c.mozCurrentTransform),i=Math.max(Math.ceil(g[2]-g[0]),1),j=Math.max(Math.ceil(g[3]-g[1]),1),k=ub.getCanvas("groupAt"+this.groupLevel,i,j,!0),l=k.context,m=g[0],n=g[1];l.translate(-m,-n),l.transform.apply(l,e),c.setTransform(1,0,0,1,0,0),c.translate(m,n),h(c,l),this.ctx=l,this.setGState([["SMask","None"],["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++},endGroup:function(){this.groupLevel--;var a=this.ctx;this.ctx=this.groupStack.pop(),"imageSmoothingEnabled"in this.ctx?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,this.ctx.drawImage(a.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new vb},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){if(this.save(),a&&r(a)&&4==a.length){var d=a[2]-a[0],e=a[3]-a[1];this.rectangle(a[0],a[1],d,e),this.clip(),this.endPath()}this.transform.apply(this,b),this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,d){var e=this.objs.get(a);e||c("Dependent image isn't ready yet"),this.save();var f=this.ctx;if(f.scale(1/b,-1/d),f.drawImage(e,0,0,e.width,e.height,0,-d,b,d),this.imageLayer){var g=f.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/g[0],height:d/g[3]})}this.restore()},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,d=a.height,e=this.processingType3;if(tb&&e&&!("compiled"in e)){var f=1e3;e.compiled=f>=c&&f>=d?z({data:a.data,width:c,height:d}):null}if(e&&e.compiled)return e.compiled(b),void 0;var h=ub.getCanvas("maskCanvas",c,d),i=h.context;i.save(),g(i,a),i.globalCompositeOperation="source-in";var j=this.current.fillColor;i.fillStyle=j&&j.hasOwnProperty("type")&&"Pattern"===j.type?j.getPattern(i,this):j,i.fillRect(0,0,c,d),i.restore(),this.paintInlineImageXObject(h.canvas)},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=0,d=a.length;d>c;c++){var e=a[c],f=e.width,h=e.height,i=ub.getCanvas("maskCanvas",f,h),j=i.context;j.save(),g(j,e),j.globalCompositeOperation="source-in";var k=this.current.fillColor;j.fillStyle=k&&k.hasOwnProperty("type")&&"Pattern"===k.type?k.getPattern(j,this):k,j.fillRect(0,0,f,h),j.restore(),b.save(),b.transform.apply(b,e.transform),b.scale(1,-1),b.drawImage(i.canvas,0,0,f,h,0,-1,1,1),b.restore()}},paintImageXObject:function(a){var b=this.objs.get(a);b||c("Dependent image isn't ready yet"),this.paintInlineImageXObject(b)},paintInlineImageXObject:function(a){var b=a.width,c=a.height,d=this.ctx;this.save(),d.scale(1/b,-1/c);var e,f=d.mozCurrentTransformInverse,h=f[0],i=f[1],j=Math.max(Math.sqrt(h*h+i*i),1),k=f[2],l=f[3],m=Math.max(Math.sqrt(k*k+l*l),1);if(a instanceof HTMLElement||!a.data)e=a;else{var n=ub.getCanvas("inlineImage",b,c),o=n.context;g(o,a),e=n.canvas}for(var p=b,q=c,r="prescale1";j>2&&p>1||m>2&&q>1;){var s=p,t=q;j>2&&p>1&&(s=Math.ceil(p/2),j/=p/s),m>2&&q>1&&(t=Math.ceil(q/2),m/=q/t);var n=ub.getCanvas(r,s,t);o=n.context,o.clearRect(0,0,s,t),o.drawImage(e,0,0,p,q,0,0,s,t),e=n.canvas,p=s,q=t,r="prescale1"===r?"prescale2":"prescale1"}if(d.drawImage(e,0,0,p,q,0,-c,b,c),this.imageLayer){var u=this.getCanvasPosition(0,-c);this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:b/f[0],height:c/f[3]})}this.restore()},paintInlineImageXObjectGroup:function(a,b){var c=this.ctx,d=a.width,e=a.height,f=ub.getCanvas("inlineImage",d,e),h=f.context;g(h,a);for(var i=0,j=b.length;j>i;i++){var k=b[i];if(c.save(),c.transform.apply(c,k.transform),c.scale(1,-1),c.drawImage(f.canvas,k.x,k.y,k.w,k.h,0,-1,1,1),this.imageLayer){var l=this.getCanvasPosition(k.x,k.y);this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:d,height:e})}c.restore()}},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==m)if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.clip(),this.ctx.mozFillRule="nonzero";else try{this.ctx.clip("evenodd")}catch(a){this.ctx.clip()}else this.ctx.clip();this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(){var a=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}},e}();PDFJS.disableFontFace=!1;var xb={insertRule:function(a){var b=document.getElementById("PDFJS_FONT_STYLE_TAG");b||(b=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(b));var c=b.sheet;c.insertRule(a,c.cssRules.length)},get loadTestFont(){return i(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(B)return!1;var a=window.navigator.userAgent,b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(a);return b&&b[1]>=14?!0:!1}(),bind:function(a,b){f(!B,"bind() shall be called from main thread");for(var c=[],d=[],e=0,g=a.length;g>e;e++){var h=a[e];if(!h.attached&&h.loading!==!1){h.attached=!0;var i=h.bindDOM();i&&(c.push(i),d.push(h))}}var j=xb.queueLoadingCallback(b);c.length>0&&!this.isSyncFontLoadingSupported?xb.prepareFontLoadEvent(c,d,j):j.complete()},queueLoadingCallback:function(a){function b(){for(f(!e.end,"completeRequest() cannot be called twice"),e.end=Date.now();c.requests.length>0&&c.requests[0].end;){var a=c.requests.shift();setTimeout(a.callback,0)}}var c=xb.loadingContext,d="pdfjs-font-loading-"+c.nextRequestId++,e={id:d,complete:b,callback:a,started:Date.now()};return c.requests.push(e),e},prepareFontLoadEvent:function(a,c,d){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function f(a){return String.fromCharCode(255&a>>24)+String.fromCharCode(255&a>>16)+String.fromCharCode(255&a>>8)+String.fromCharCode(255&a)}function g(a,b,c,d){var e=o.substr(0,b),f=o.substr(b+c);return e+d+f}function h(a,c){if(m++,m>30)return b("Load test font never loaded."),c(),void 0;l.font="30px "+a,l.fillText(".",0,20);var d=l.getImageData(0,0,1,1);return d.data[3]>0?(c(),void 0):(setTimeout(h.bind(null,a,c)),void 0)}var i,j,k=document.createElement("canvas");k.width=1,k.height=1;var l=k.getContext("2d"),m=0,n="lt"+Date.now()+this.loadTestFontId++,o=this.loadTestFont,p=976;o=g(o,p,n.length,n);var q=16,r=1482184792,s=e(o,q);for(i=0,j=n.length-3;j>i;i+=4)s=0|s-r+e(n,i);i<n.length&&(s=0|s-r+e(n+"XXX",i)),o=g(o,q,4,f(s));var t="url(data:font/opentype;base64,"+btoa(o)+");",u='@font-face { font-family:"'+n+'";src:'+t+"}";xb.insertRule(u);var v=[];for(i=0,j=c.length;j>i;i++)v.push(c[i].loadedName);v.push(n);var w=document.createElement("div");for(w.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),i=0,j=v.length;j>i;++i){var x=document.createElement("span");x.textContent="Hi",x.style.fontFamily=v[i],w.appendChild(x)}document.body.appendChild(w),h(n,function(){document.body.removeChild(w),d.complete()})}},yb=function(){function a(){if(this.compiledGlyphs={},1!==arguments.length);else{var a=arguments[0];for(var b in a)this[b]=a[b]}}return a.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var a=j(this.data),b=this.loadedName,c="url(data:"+this.mimetype+";base64,"+window.btoa(a)+");",d='@font-face { font-family:"'+b+'";src:'+c+"}";return xb.insertRule(d),PDFJS.pdfBug&&"FontInspector"in A&&A.FontInspector.enabled&&A.FontInspector.fontAdded(this,c),d},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b);this.compiledGlyphs[b]=new Function("c","size",c)}return this.compiledGlyphs[b]}},a}()}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){"use strict";var a=document.body||document.getElementsByTagName("head")[0],b=a.lastChild.src;return b&&b.replace(/\.js$/i,".worker.js")}());
"use strict";!function(a){var b=function(a){this.element=a,this.reader=a.shadowRoot.querySelector(".pdf-viewer"),this.viewportOut=this.reader.querySelector(".pdf-viewport-out"),this.viewport=this.reader.querySelector(".pdf-viewport"),this.pageNav=this.reader.querySelector(".pdf-page-nav"),this.pageNum=this.reader.querySelector(".pdf-page-num"),this.pageNavPN=this.pageNav.querySelectorAll(".pdf-nav"),this.totalPages=this.pageNav.querySelector("span:last-child").children[0],this.zoomNav=this.reader.querySelectorAll(".pdf-scale > div"),this.zoomLvl=this.reader.querySelector(".pdf-zoom-lvl"),this.zoomCustom=this.zoomLvl.querySelector(".pdf-custom-zoom"),this.zoomFit=this.zoomLvl.querySelector(".pdf-fit-zoom"),this.viewportStyle=this.viewport.style,this.viewportOutStyle=this.viewportOut.style,this.ctx=this.viewport.getContext("2d"),this.URL=a.dataset.url,this.WIDTH=a.getAttribute("width"),this.HEIGHT=a.getAttribute("height"),this.setEvents(),this.setSize(),PDFJS.workerSrc="http://demo.romanliutikov.com/web-components/elements/pdf-reader/scripts/vendor/pdf.worker.js",this.loadPDF()};b.prototype.setSize=function(a,b){var c=this.WIDTH,d=this.HEIGHT;"width"===a&&(c=b),"height"===a&&(d=b),this.element.style.width=this.reader.style.width=c+"px",this.element.style.height=this.reader.style.height=d+"px",this.viewportOutStyle.width=c+"px",this.viewportOutStyle.height=d-40+"px"},b.prototype.loadPDF=function(){var a=this;PDFJS.getDocument(this.URL).then(function(b){a.PDF=b,a.renderPDF(1),a.pageNum.value=a.currentPage=1,a.totalPages.innerHTML=a.PDF.numPages,a.currentZoomVal=a.fitZoomVal=a.widthZoomVal=0,a.zoomFit.selected=!0,a.createDownloadLink()})},b.prototype.renderPDF=function(a,b){var c=this;this.PDF.getPage(a).then(function(a){var d,e,f,g;c.pageW=a.view[2],c.pageH=a.view[3],(0===c.currentZoomVal||b)&&(d=Math.round(100*(c.WIDTH/c.pageW))/100,e=Math.round(100*((c.HEIGHT-40)/c.pageH))/100,g=Math.min(e,d),c.currentZoomVal=c.fitZoomVal=g,c.widthZoomVal=c.WIDTH/c.pageW),b?c.zoomPage({target:c.zoomLvl}):(g=c.currentZoomVal,f=a.getViewport(g),c.pageW=c.pageW*g,c.pageH=c.pageH*g,c.setViewportPos(),c.viewport.width=c.pageW,c.viewport.height=c.pageH,c.viewportStyle.width=c.pageW+"px",c.viewportStyle.height=c.pageH+"px",c.loadViewer(c.PDF.numPages),c.ctx.clearRect(0,0,c.viewport.width,c.viewport.height),a.render({canvasContext:c.ctx,viewport:f}))})},b.prototype.setViewportPos=function(){this.viewportStyle.left=(this.WIDTH-this.pageW)/2+"px",this.viewportStyle.top=this.pageH<this.HEIGHT?(this.HEIGHT-this.pageH-40)/2+"px":0},b.prototype.loadViewer=function(a){1===a?this.pageNav.classList.add("pdf-hidden"):this.pageNav.classList.remove("pdf-hidden"),this.reader.classList.add("pdf-loaded")},b.prototype.changePage=function(a,b){var c,d=a.target,e=/^[0-9]+$/;b.currentPage=parseInt(b.pageNum.value,10),d.classList.contains("pdf-nav")?d.classList.contains("pdf-disabled")||(d.classList.contains("pdf-next")?b.currentPage++:b.currentPage--,1===b.currentPage?b.pageNavPN[0].classList.add("pdf-disabled"):b.pageNavPN[0].classList.remove("pdf-disabled"),b.currentPage===b.PDF.numPages?b.pageNavPN[1].classList.add("pdf-disabled"):b.pageNavPN[1].classList.remove("pdf-disabled"),b.pageNum.value=b.currentPage,b.renderPDF(b.currentPage)):e.test(d.value)&&(c=d.value,1>c&&(c=1),c>b.PDF.numPages&&(c=b.PDF.numPages),d.value=c,b.renderPDF(c))},b.prototype.zoomPage=function(a,b){var c,d=a.target,e=.1;d.classList.contains("pdf-zoom-lvl")?(c=parseInt(d.value,10),"fit"===d.value?b.currentZoomVal=b.fitZoomVal:"width"===d.value?b.currentZoomVal=b.widthZoomVal:(b.currentZoomVal=c/100,200===c&&b.zoomNav[1].classList.add("pdf-disabled")),200!==parseInt(d.value,10)&&b.zoomNav[1].classList.remove("pdf-disabled"),b.zoomNav[0].classList.remove("pdf-disabled"),b.renderPDF(b.currentPage)):(d.classList.contains("pdf-scale-down")&&(e=-.1),b.currentZoomVal=Math.round(10*(Math.round(10*b.currentZoomVal)/10+e))/10,b.currentZoomVal<=.1?(b.currentZoomVal=.1,b.zoomNav[0].classList.add("pdf-disabled")):b.currentZoomVal>=2?(b.currentZoomVal=2,b.zoomNav[1].classList.add("pdf-disabled")):(b.zoomNav[0].classList.remove("pdf-disabled"),b.zoomNav[1].classList.remove("pdf-disabled"),b.renderPDF(b.currentPage)),b.zoomCustom.innerHTML=Math.round(100*b.currentZoomVal)+"%",b.zoomFit.selected=!1,b.zoomCustom.selected=!0)},b.prototype.createDownloadLink=function(){var a=this;this.PDF.getData().then(function(b){var c=PDFJS.createBlob(b,"application/pdf");a.downloadLink=URL.createObjectURL(c)})},b.prototype.download=function(a){var b=document.createElement("a"),c=a.URL.split("/");b.href=this.downloadLink,b.target="_parent","download"in b&&(b.download=c[c.length-1]),this.reader.appendChild(b),b.click(),b.parentNode.removeChild(b)},b.prototype.setEvents=function(){var a=this;this.reader.querySelector(".pdf-download .pdf-btn").addEventListener("click",function(){a.download(a)},!1),[].forEach.call(this.pageNavPN,function(b){b.addEventListener("click",function(b){a.changePage(b,a)},!1)}),this.pageNum.addEventListener("input",function(b){a.changePage(b,a)},!1),[].forEach.call(this.zoomNav,function(b){b.addEventListener("click",function(b){a.zoomPage(b,a)},!1)}),this.zoomLvl.addEventListener("change",function(b){a.zoomPage(b,a)},!1)},a.Polymer.Reader=b}(window);</script> <script>
    Polymer('pdf-reader', {
      //applyAuthorStyles: true,
      //resetStyleInheritance: true,
      created: function() {
        this.instance = new Polymer.Reader(this);
      },
      enteredView: function() { },
      leftView: function() { },
      attributeChanged: function (attrName, oldVal, newVal) {
        this.instance.setSize(attrName, newVal);
      }
    });
  </script> </polymer-element>
